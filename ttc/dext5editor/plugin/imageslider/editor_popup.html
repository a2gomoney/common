<!DOCTYPE html>
<html>
<head>
    <title>Image</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <script type="text/javascript">
        document.write('<scr' + 'ipt src="../../config/editor_crossdomain_config.js?t=' + (new Date).getTime() + '" type="text/javascript"><\/scr' + 'ipt>');
    </script>

    <script type="text/javascript">
        var G_UploadCompleteCallBackFn;
        var DEXTTOP = parent;
        var Dext5LayerFrame = DEXTTOP.DEXTDOC.getElementById("dext_frame_" + DEXTTOP.G_CURREDITOR.ID);
        if (DEXTTOP.G_CURREDITOR.dialogWindow != null) {
            DEXTTOP = Dext5LayerFrame.contentWindow.DEXTTOP;
        }
        var Dext5LayerWin = Dext5LayerFrame.contentWindow;

        DEXTTOP.G_CURREDITOR._FRAMEWIN.G_DEPlugin.imageslider._POPUPWIN = this;
        document.write('<link href="./css/dext5imageslider_popup.css?t=' + DEXTTOP.DEXT5.UrlStamp + '" rel="stylesheet" type="text/css" />');

        var G_SKINNAME = Dext5LayerWin._dext_editor._config.style.skinName;

        document.write('<link href="../' + Dext5LayerWin._dext_editor._config.popupCssUrl + '?t=' + DEXTTOP.DEXT5.UrlStamp + '" rel="stylesheet" type="text/css" />');
        if (Dext5LayerWin._dext_editor._config.customCssUrlDetailApply == "1") {
            document.write('<link href="../' + Dext5LayerWin._dext_editor._config.style.customCssUrl + "?t=" + DEXTTOP.DEXT5.UrlStamp + '" rel="stylesheet" type="text/css" />');
        }
        document.write('<scr' + 'ipt src="../' + Dext5LayerWin._dext_editor._config.dialogJSUrl + '?t=' + DEXTTOP.DEXT5.UrlStamp + '" type="text/javascript"><\/scr' + 'ipt>');

        if (Dext5LayerWin._dext_editor._config.uploadUseHTML5 == "1") {
            document.write('<scr' + 'ipt src="../' + Dext5LayerWin._dext_editor._config.ajaxUploadJSUrl + '?t=' + DEXTTOP.DEXT5.UrlStamp + '" type="text/javascript"><\/scr' + 'ipt>');
        }

        if (Dext5LayerWin._dext_editor._config.security.fileExtensionDetector && Dext5LayerWin._dext_editor._config.security.fileExtensionDetector != '0') {
            document.write('<scr' + 'ipt src="../' + Dext5LayerWin._dext_editor._config.detectJSUrl + '?t=' + DEXTTOP.DEXT5.UrlStamp + '" type="text/javascript"><\/scr' + 'ipt>');
        }
    </script>

    <style type="text/css">
        #img_dlg_back {
            z-index: 20;
            background-color: white;
            left: 0px;
            top: 40px;
            width: 100%;
            height: 60px;
            position: absolute;
            filter: alpha(opacity=40);
            opacity: 0.4;
            -moz-opacity: 0.4;
            -ms-filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=40);
            -khtml-opacity: 0.4;
        }

        .image-list {
            width: 100%;
            display: -webkit-box;
            /*gap: 10px;*/
            overflow-x: auto;
        }

        .image-item {
            display: flex;
            border: 0.2px solid rgba(0,0,0,0.50) !important;
            padding: 5px;
            cursor: grab;
            width: 100px !important;
            height: 100px;
            justify-content: center;
            align-items: center;
        }

        .image-item img {
            max-width: 100px;
            max-height: 100px;
            width: auto;
            height: auto;
            display: block;
            object-fit: contain;
            margin: 0 auto;
        }

        .dragging {
            opacity: 0.5;
        }
    </style>

    <script type="text/javascript">
        var G_validImageFiles = [];

        var G_tempTotalFileSizeForMulti = 0;

        var file_field_id = LayerWin._dext_editor._config.fileFieldID;
        var user_field_id = LayerWin._dext_editor._config.userFieldID;
        var user_field_value = LayerWin._dext_editor._config.userFieldValue;
        var g_initWidth = g_initHeight = '';

        var G_IMAGES_ORDER = [];

        var elemModify = null;
        try {
            elemModify = DEXTTOP.G_SELECTED_ELEMENT;
            if (elemModify && elemModify.tagName.toLowerCase() != "img") DEXTTOP.G_SELECTED_ELEMENT = elemModify = null;
            if (elemModify && elemModify != null) {
                elemModifyParent = LayerWin.GetParentbyTagName(elemModify, "figure");

                if (elemModifyParent) {
                    if (elemModifyParent.tagName.toLowerCase() != "figure")
                        elemModifyParent = null;
                }
            }
        } catch (e) {
            elemModify = null;
        }

        function page_loaded_event() {
            var _td1InnerHtml = '', _td2InnerHtml = '', _td3InnerHtml = '';
            var fileAccept = '';
            if (Dext5LayerWin._dext_editor._config.fileFilterHtml5 && Dext5LayerWin._dext_editor._config.fileFilterHtml5 != '') {
                fileAccept = 'accept="' + Dext5LayerWin._dext_editor._config.fileFilterHtml5 + '"';
            }

            if (Dext5LayerWin._dext_editor._config.uploadUseHTML5 == "1") {
                _td1InnerHtml += '<input id="radio_image" name="InputFlag" onclick="InputFlag_change(this);" type="radio" value="1" checked="checked" style="display: none;" />';

                _td2InnerHtml += '<label for="radio_image" id="label_slider_info">이미지 경로</label>';

                _td3InnerHtml += '<input type="hidden" id="drop_zone_uploadtype" name="drop_zone_uploadtype" value="p_imageslider" /><input type="hidden" id="file_text" name="file_text" />';

                _td3InnerHtml += '<div class="DEXT_fiVe_ED_Popup_DropZone DEXT_fiVe_ED_Popup_DropZone_2" id="drop_zone" style="border:dashed 1px gray; width:350px; height:54px; line-height:40px; text-align:center; color:gray; text-overflow:ellipsis; overflow:hidden; white-space:nowrap; background-position: 40px 14px;"></div>';
                _td3InnerHtml += '<div style="position:absolute; left:0px; top:-40px;"><input class="noline" type="file" {0} id="Filedata" name="Filedata" style="width:0px; height:0px" onchange="fileOnchange(this, \'p_imageslider\');" multiple /></div>';
            }
            else {
                _td1InnerHtml += '<input id="radio_image" name="InputFlag" onclick="InputFlag_change(this);" type="radio" value="1" checked="checked" />';

                _td2InnerHtml += '<label for="radio_image" id="label_slider_info">이미지 경로</label>';

                _td3InnerHtml += '<input name="image_url" id="image_url" type="text" class="con_input" style="width:245px; float:left;background:#fff" disabled="disabled" />';
                _td3InnerHtml += '<span id="find_file_nm" style="width:67px; height:20px; *margin-left:-3px;_margin-left:-3px; background-position: 0px 0px; display:block; float:left; cursor:pointer; background-repeat:no-repeat;">';
                _td3InnerHtml += '<span id="file_input_search" class="file_input_button2">찾아보기</span>';
                _td3InnerHtml += '<input class="noline" type="file" {0} id="Filedata" name="Filedata" style="margin-top:-35px;*margin-top: -28px; margin-left:-250px;width:325px;height:25px; opacity:0; filter:alpha(opacity=0); -moz-opacity:0; cursor:pointer;" onchange="fileOnchange(this, \'p_imageslider\');" />';
                _td3InnerHtml += '<a href="javascript:void(0);" id="a_file"></a></span>';
            }

            _td3InnerHtml = _td3InnerHtml.replace('{0}', fileAccept);

            var _td1 = document.createElement('td');
            _td1.style.display = "none";
            _td1.width = '5%';
            _td1.innerHTML = _td1InnerHtml;

            var _td2 = document.createElement('td');
            _td2.width = '22%';
            _td2.innerHTML = _td2InnerHtml;

            var _td3 = document.createElement('td');

            _td3.width = '73%';
            if (Dext5LayerWin._dext_editor._config.uploadUseHTML5 == "1") {
                _td3.rowSpan = '2';
                _td3.id = '_td_drop_zone';
            }

            _td3.innerHTML = _td3InnerHtml;

            document.getElementById('file_tag_or_drop_zone').appendChild(_td1);
            document.getElementById('file_tag_or_drop_zone').appendChild(_td2);
            document.getElementById('file_tag_or_drop_zone').appendChild(_td3);

            if (Dext5LayerWin._dext_editor._config.uploadUseHTML5 == "1") {
                setDragAndDropEvent('drop_zone');

                document.getElementById('drop_zone').removeAttribute('hidden')
                document.getElementById('img_web_url').setAttribute('hidden', 'hidden');

                if (Dext5LayerWin._dext_editor._config.imgPreView == '1') {
                    var targetId = 'img_web_url';
                    var newLinkHTML = '<a href="javascript:imgPreView(\'url\',-1, \'' + targetId + '\')" title="' + LayerWin.dext5_lang.imgPreview.title + '" style="margin-left: 5px;">';
                    newLinkHTML += '<img id="imgPreview_img_2" src="../../images/editor/icon/img_preview.png" alt="img_preview" style = "border:0;" hidden="hidden"/>';
                    newLinkHTML += '</a>';

                    document.getElementById("img_web_url").style.width = '290px';
                    document.getElementById("img_web_url").insertAdjacentHTML('afterend', newLinkHTML);
                }
            }

            var html_figure1 = '', html_figure2 = '';
            if (!(DEXTTOP.DEXT5.browser.ie && DEXTTOP.DEXT5.browser.ieVersion <= 8) && Dext5LayerWin._dext_editor._config.figure.use == "1") {
                var tr_figure = document.getElementById("figure");

                var html_figure = '<input id="img_figure" name="img_figure" type="checkbox" /><label style="vertical-align:middle;" for="img_figure" id="label_img_figure">' + LayerWin.dext5_lang.image.image_figcaption; +'</label>';

                var td_figure1 = document.createElement('td');
                td_figure1.setAttribute("colspan", '2');
                td_figure1.innerHTML = html_figure;

                var td_figure2 = document.createElement('td');
                tr_figure.appendChild(td_figure1);
                tr_figure.appendChild(td_figure2);

                var figureChk = td_figure1.firstChild;
                var figureOnchange = function () {
                    var tab1 = document.getElementById('a_secon_tab_1');
                    var tab2 = document.getElementById('a_secon_tab_2');
                    var tab3 = document.getElementById('a_secon_tab_3');
                    if (figureChk.checked) {
                        tab1.style.display = 'none';
                        tab2.style.display = 'none';
                        tab3.style.display = 'none';
                    } else {
                        tab1.style.display = 'block';
                        tab2.style.display = 'block';
                        tab3.style.display = 'block';
                    }
                };
                DEXTTOP.DEXT5.util.addEvent(figureChk, 'change', figureOnchange);
            }

            addParamForm(document.getElementById('div_config'));
            set_page_lang();

            var accessibility = LayerWin._dext_editor._config.accessibility;
            if (accessibility == "-1") {
                if (document.getElementById("access_img")) document.getElementById("access_img").style.display = "none";
            }

            var img_ratio = document.getElementById("img_ratio");
            var img_ratio_toggle = (function () {
                var inputWidth = document.getElementById('img_width');
                var inputHeight = document.getElementById('img_height');
                var selectWidthUnit = document.getElementById('img_width_unit');
                var selectHeightUnit = document.getElementById('img_height_unit');
                if (img_ratio.getAttribute("ratio-checked") == "true") {
                    img_ratio.className = "img_link_btn";
                    img_ratio.setAttribute("ratio-checked", false);
                    inputWidth.removeAttribute("disabled");
                    inputHeight.removeAttribute("disabled");

                } else {
                    if (selectWidthUnit.value == selectHeightUnit.value) {
                        img_ratio.className = "img_link_active_btn";
                        img_ratio.setAttribute("ratio-checked", true);

                        if (selectWidthUnit.value == '%' || selectHeightUnit.value == '%') {
                            inputHeight.value = '';
                            inputHeight.setAttribute("disabled", "true");
                        } else {
                            inputWidth.removeAttribute("disabled");
                            inputHeight.removeAttribute("disabled");
                        }
                    }
                }
            });
            DEXTTOP.DEXT5.util.addEvent(img_ratio, "click", img_ratio_toggle);

            if (LayerWin._dext_editor._config.uploadUseHTML5 != "1") {
                var _upload_frame = document.getElementById("upload_frame");

                if (LayerWin._dext_editor._config.isCrossDomain) {
                    postMessageEvent(_upload_frame, "image");
                } else {
                    var eventHandler = function () {
                        var _body;
                        try {
                            _body = (_upload_frame.contentDocument) ? _upload_frame.contentDocument.body : _upload_frame.contentWindow.document.body;
                        }
                        catch (e) {
                            _body = _upload_frame.document.body;
                        }

                        if ('textContent' in _body) { _web_url = _body.textContent; } else { _web_url = _body.innerText; }
                        _web_url = DEXTTOP.DEXT5.util.trim(_web_url);
                        event_dext_image_upload_completed(_web_url);
                    }

                    DEXTTOP.DEXT5.util.addEvent(_upload_frame, "load", eventHandler, true);
                }
            }

            set_page();

            var _link_target = document.getElementById('link_target');
            var cnt = LayerWin.dext5_lang.hyperlink.arr_target.value.length;
            for (var i = 0; i < cnt; i++) {
                var opt = document.createElement('option');
                opt.value = LayerWin.dext5_lang.hyperlink.arr_target.value[i];
                opt.innerHTML = LayerWin.dext5_lang.hyperlink.arr_target.text[i];
                _link_target.appendChild(opt);
            }

            var hyperlinkTargetList = LayerWin._dext_editor._config.hyperlinkTargetList;
            cnt = hyperlinkTargetList.length;
            if (cnt > 0) {
                for (var i = 0; i < cnt; i++) {
                    var opt = document.createElement('option');
                    opt.value = hyperlinkTargetList[i];
                    opt.innerHTML = hyperlinkTargetList[i];
                    _link_target.appendChild(opt);
                }
            }

            var margin_left_spinUp = document.getElementById("margin_left_spinUp");
            var margin_right_spinUp = document.getElementById("margin_right_spinUp");
            var margin_top_spinUp = document.getElementById("margin_top_spinUp");
            var margin_bottom_spinUp = document.getElementById("margin_bottom_spinUp");

            var margin_left_spinDown = document.getElementById("margin_left_spinDown");
            var margin_right_spinDown = document.getElementById("margin_right_spinDown");
            var margin_top_spinDown = document.getElementById("margin_top_spinDown");
            var margin_bottom_spinDown = document.getElementById("margin_bottom_spinDown");

            var img_margin_left = document.getElementById('img_margin_left');
            var img_margin_right = document.getElementById('img_margin_right');
            var img_margin_top = document.getElementById('img_margin_top');
            var img_margin_bottom = document.getElementById('img_margin_bottom');

            var img_width = document.getElementById('img_width');
            var img_height = document.getElementById('img_height');
            var img_width_Unit = document.getElementById('img_width_unit');
            var img_height_Unit = document.getElementById('img_height_unit');

            var original_size = document.getElementById('original_size');
            img_width.value = '';
            img_height.value = '';

            if (LayerWin._dext_editor._config.allowImgSize == "0") {
                document.getElementById('img_width_div').style.display = 'none';
                document.getElementById('img_height_div').style.display = 'none';
            }

            var lineStyle = LayerWin._dext_editor._config.imageLineStyleValue;
            var ulLineStyle = document.getElementById("ul_line_style");
            var imageLineStyleList = LayerWin._dext_editor._config.imageLineStyleList;
            _cnt = imageLineStyleList.length;
            if (_cnt > 0) {
                for (var i = 0; i < _cnt; i++) {
                    if (lineStyle["_" + tableLineStyleList[i]]) {
                        var option = document.createElement("LI");
                        var optVal = '<a href="javascript:void(0);" class="sebt"><span class="line" style="' + lineStyle["_" + imageLineStyleList[i]] + '">';
                        if (imageLineStyleList[i] == 'hidden' || imageLineStyleList[i] == 'none') { optVal += LayerWin.dext5_lang.image.line_style_hidden; }
                        optVal += '</span></a>';
                        option.innerHTML = optVal;
                        ulLineStyle.appendChild(option);
                    }
                }
            } else {
                var _line_style_value = LayerWin.dext5_lang.arr_line_style_value.value;
                _cnt = _line_style_value.length;
                for (var i = 0; i < _cnt; i++) {
                    var option = document.createElement("LI");
                    var optVal = '<a href="javascript:void(0);" class="sebt"><span class="line" style="' + lineStyle["_" + _line_style_value[i]] + '">';
                    if (_line_style_value[i] == 'hidden' || _line_style_value[i] == 'none') { optVal += LayerWin.dext5_lang.image.line_style_hidden; }
                    optVal += '</span></a>';
                    option.innerHTML = optVal;
                    ulLineStyle.appendChild(option);
                }
            }
            setLineStyleEvt();

            var _line_kind_value = LayerWin.dext5_lang.arr_line_kind_value.value;
            _cnt = _line_kind_value.length;
            var _value = "";
            var _text = "";
            for (var i = 0; i < _cnt; i++) {
                _value = LayerWin.dext5_lang.arr_line_kind_value.value[i];
                _text = LayerWin.dext5_lang.arr_line_kind_value.text[i];
                var option = document.createElement("OPTION");
                option.value = _value;
                option.text = _text;
                document.getElementById("line_kind").options.add(option);
            }
            document.getElementById("line_kind").options[0].selected = "selected";

            document.getElementById("line_thickness").value = '0';

            DEXTTOP.DEXT5.util.addEvent(margin_left_spinUp, 'click', function () { LayerWin.click_plus_func(img_margin_left, 9999, 1); });
            DEXTTOP.DEXT5.util.addEvent(margin_right_spinUp, 'click', function () { LayerWin.click_plus_func(img_margin_right, 9999, 1); });
            DEXTTOP.DEXT5.util.addEvent(margin_top_spinUp, 'click', function () { LayerWin.click_plus_func(img_margin_top, 9999, 1); });
            DEXTTOP.DEXT5.util.addEvent(margin_bottom_spinUp, 'click', function () { LayerWin.click_plus_func(img_margin_bottom, 9999, 1); });

            DEXTTOP.DEXT5.util.addEvent(margin_left_spinDown, 'click', function () { LayerWin.click_minus_func(img_margin_left, -9999, 1); });
            DEXTTOP.DEXT5.util.addEvent(margin_right_spinDown, 'click', function () { LayerWin.click_minus_func(img_margin_right, -9999, 1); });
            DEXTTOP.DEXT5.util.addEvent(margin_top_spinDown, 'click', function () { LayerWin.click_minus_func(img_margin_top, -9999, 1); });
            DEXTTOP.DEXT5.util.addEvent(margin_bottom_spinDown, 'click', function () { LayerWin.click_minus_func(img_margin_bottom, -9999, 1); });

            var keydownInputText = function (obj) {
                if (!isNaN(new Number(obj.value)))
                    DEXTTOP.G_CURREDITOR.keydownInputText = obj.value;
            }
            DEXTTOP.DEXT5.util.addEvent(img_margin_left, 'keydown', function () { keydownInputText(img_margin_left) });
            DEXTTOP.DEXT5.util.addEvent(img_margin_right, 'keydown', function () { keydownInputText(img_margin_right) });
            DEXTTOP.DEXT5.util.addEvent(img_margin_top, 'keydown', function () { keydownInputText(img_margin_top) });
            DEXTTOP.DEXT5.util.addEvent(img_margin_bottom, 'keydown', function () { keydownInputText(img_margin_bottom) });

            DEXTTOP.DEXT5.util.addEvent(img_margin_left, 'keyup', function () { LayerWin.onlyNumberAndNegative(img_margin_left) });
            DEXTTOP.DEXT5.util.addEvent(img_margin_right, 'keyup', function () { LayerWin.onlyNumberAndNegative(img_margin_right) });
            DEXTTOP.DEXT5.util.addEvent(img_margin_top, 'keyup', function () { LayerWin.onlyNumberAndNegative(img_margin_top) });
            DEXTTOP.DEXT5.util.addEvent(img_margin_bottom, 'keyup', function () { LayerWin.onlyNumberAndNegative(img_margin_bottom) });

            DEXTTOP.DEXT5.util.addEvent(img_width, 'keydown', LayerWin.onlyNumber);
            DEXTTOP.DEXT5.util.addEvent(img_height, 'keydown', LayerWin.onlyNumber);

            DEXTTOP.DEXT5.util.addEvent(original_size, 'click', function () {
                var img_width = document.getElementById('img_width');
                var img_height = document.getElementById('img_height');
                var original_size = document.getElementById('original_size');
                var selectWidth = document.getElementById('img_width_unit');
                var selectHeight = document.getElementById('img_height_unit');
                if (original_size.checked) {
                    if (document.getElementById('original_image_width').value == "" || document.getElementById('original_image_height').value == "") {
                        setOriginSize();
                    }
                    if (selectWidth.value == '%') {
                        var baseWidth = DEXTTOP.DEXT5.util.getEditSpacePx(DEXTTOP.G_CURREDITOR);
                        var calPercent = Math.round((document.getElementById('original_image_width').value / baseWidth) * 10000) / 100;
                        if (calPercent == "0") {
                            calPercent = "";
                        }
                        img_width.value = calPercent;
                        img_width.disabled = "true";
                        img_height.value = "";
                        img_height.disabled = "true";
                        selectWidth.value = '%';
                        selectHeight.value = '%';
                        selectWidth.disabled = 'true';
                        selectHeight.disabled = 'true';
                    } else {
                        img_width.value = document.getElementById('original_image_width').value;
                        img_width.disabled = "true";
                        img_height.value = document.getElementById('original_image_height').value;
                        img_height.disabled = "true";
                        selectWidth.value = 'px';
                        selectHeight.value = 'px';
                        selectWidth.disabled = 'true';
                        selectHeight.disabled = 'true';
                    }
                } else {
                    img_width.removeAttribute("disabled");
                    if (selectWidth.value != '%') {
                        img_height.removeAttribute("disabled");
                    }
                    selectWidth.removeAttribute("disabled");
                    selectHeight.removeAttribute("disabled");
                }
            });

            var setOriginSize = function () {
                var tempImage = new Image();
                var img_web_url = document.getElementById('img_web_url');
                tempImage.onload = function () {
                    try {
                        var urlCreator = window.URL || window.webkitURL || window;
                        urlCreator.revokeObjectURL(this.src);
                    } catch (e) {
                        typeof (RAONWIZDLW) != 'undefined' && RAONWIZDLW && RAONWIZDLW();
                    }
                    var tempImgW = tempImage.width;
                    var tempImgH = tempImage.height;

                    if (LayerWin.DEXTTOP.G_CURREDITOR._config.uploadUseHTML5 == '1') {
                        document.getElementById('original_image_width').value = tempImgW;
                        document.getElementById('original_image_height').value = tempImgH;
                    } else {
                        document.getElementById('original_image_width').value = '';
                        document.getElementById('original_image_height').value = '';
                    }

                    tempImage = null;
                    tempImage = undefined;
                };
                tempImage.src = img_web_url.value;
            }

            if (Dext5LayerWin._dext_editor._config.disableInsertImage.indexOf(',image,') > -1) {
                document.getElementById('file_tag_or_drop_zone').style.display = 'none';

                document.getElementById('radio_image_url').checked = true;
                InputFlag_change(document.getElementById('radio_image_url'));

                var nextTr = document.getElementById('file_tag_or_drop_zone').nextSibling;
                if (nextTr.tagName != 'TR') {
                    nextTr = nextTr.nextSibling;
                }
                var tdArr = nextTr.getElementsByTagName('td');
                tdArr[0].width = '5%';
                tdArr[1].width = '22%';
                tdArr[2].width = '73%';
            }

            var btn_ok_a = document.getElementById('btn_ok_a');
            if (elemModify != null) {
                DEXTTOP.DEXT5.util.addEvent(btn_ok_a, 'click', function () { set_modify_ok(); });
                set_modify_field();
            } else {
                if (!!DEXTTOP.G_CURREDITOR._config.imageQuality) {
                    if (DEXTTOP.G_CURREDITOR._config.imageQuality.quality < 1 && DEXTTOP.G_CURREDITOR._config.plugInUse == "0") {
                        DEXTTOP.DEXT5.util.addEvent(btn_ok_a, 'click', function () {
                            LayerWin.G_DEPlugin.imageslider.G_imageslider_imgOrder = G_IMAGES_ORDER.map((img) => img.index);
                            G_IMAGES_ORDER = [];
                            dext_upload_image_quality(dext_upload_image);
                        });
                    }
                    else {
                        DEXTTOP.DEXT5.util.addEvent(btn_ok_a, 'click', function () {
                            LayerWin.G_DEPlugin.imageslider.G_imageslider_imgOrder = G_IMAGES_ORDER.map((img) => img.index);
                            G_IMAGES_ORDER = [];
                            dext_upload_image();
                        });
                    }
                } else {
                    DEXTTOP.DEXT5.util.addEvent(btn_ok_a, 'click', function () {
                        LayerWin.G_DEPlugin.imageslider.G_imageslider_imgOrder = G_IMAGES_ORDER.map((img) => img.index);
                        G_IMAGES_ORDER = [];
                        dext_upload_image();
                    });
                }
            }

            if (LayerDoc.compatMode == "BackCompat") {
                var inputs = document.getElementsByTagName('input');
                for (var i = 0; i < inputs.length; i++) {
                    if (inputs[i].type == 'text') {
                        inputs[i].style.height = '20px';
                    }
                }
            }
            var first_tab_1 = document.getElementById("first_tab_1");
            setCursorPos(first_tab_1, false, false);
            LayerWin.setFocusFirstAndLast(document, first_tab_1);

            if (elemModify == null && Dext5LayerWin._dext_editor._config.imageContinueInsertMaintainValue == "1") {
                document.getElementById("maintain_value").checked = true;
            }

            var tr_continue_insert_menu = document.getElementById('continue_insert_menu');
            tr_continue_insert_menu.style.display = 'none';

            DEXTTOP.DEXT5.util.addEvent(document.getElementById("continue_insert"), 'click', function () {
                if (this.checked) {
                    document.getElementById('continue_insert_menu').style.display = '';
                } else {
                    document.getElementById('continue_insert_menu').style.display = 'none';
                    document.getElementById('image_spacing').checked = false;
                }
            });

            if (document.getElementById('original_image_width').value == "" || document.getElementById('original_image_height').value == "") {
                setOriginSize();
            }
        }

        function set_page() {
            var _upload_url = LayerWin._dext_editor._config.post_url;
            document.getElementById("upload_url").value = _upload_url;

            var _proxy_url = LayerWin._dext_editor._config.proxy_url;

            var enforceDocumentDomain = false;
            try {
                if (typeof dext5EnforceDocumentDomain != 'undefined') {
                    enforceDocumentDomain = dext5EnforceDocumentDomain;
                }
            } catch (e) {
                typeof (RAONWIZDLW) != 'undefined' && RAONWIZDLW && RAONWIZDLW();
            }
            var currentDocDomain = document.domain;
            if (enforceDocumentDomain) {
                currentDocDomain += '|';
            }

            if (LayerWin._dext_editor._config.security.encryptParam != "0") {
                document.getElementById("document_domain").value = DEXTTOP.DEXT5.util._fn_$mEPF(currentDocDomain);
                document.getElementById("uploadtype").value = DEXTTOP.DEXT5.util._fn_$mEPF("image");
                document.getElementById("proxy_url").value = DEXTTOP.DEXT5.util._fn_$mEPF(_proxy_url);
                document.getElementById("pe").value = LayerWin._dext_editor._config.security.encryptParam;
                document.getElementById("cd").value = LayerWin._dext_editor._config.isCrossDomain == true && LayerWin._dext_editor._config.uploadUseHTML5 == "0" ? DEXTTOP.DEXT5.util._fn_$mEPF("1") : DEXTTOP.DEXT5.util._fn_$mEPF("0");
            } else {
                document.getElementById("document_domain").value = currentDocDomain;
                document.getElementById("uploadtype").value = "image";
                document.getElementById("proxy_url").value = _proxy_url;
                document.getElementById("pe").parentNode.removeChild(document.getElementById("pe"));
                document.getElementById("cd").value = LayerWin._dext_editor._config.isCrossDomain == true && LayerWin._dext_editor._config.uploadUseHTML5 == "0" ? "1" : "0";
            }
        }

        function set_page_lang() {
            var _skin_name = LayerWin._dext_editor._config.style.skinName;
            var langObj = LayerWin._dext_editor._FRAMEWIN.G_DEPlugin.imageslider.lang;

            document.getElementById("label_dragable").innerHTML = langObj.dialog.dragable;
            document.getElementById("label_rewindable").innerHTML = langObj.dialog.rewindable;
            document.getElementById("label_use_dots").innerHTML = langObj.dialog.use_dots;
            document.getElementById("label_use_arrows").innerHTML = langObj.dialog.use_arrows;
            document.getElementById("label_slider_width").innerHTML = langObj.dialog.slider_width;
            document.getElementById("label_slider_height").innerHTML = langObj.dialog.slider_height;
            document.getElementById("label_slider_info").innerHTML = langObj.dialog.slider_info;
            document.getElementById("label_slider_order").innerHTML = langObj.dialog.slider_order;

            document.getElementById("dext_dialog_box").className = 'DEXT_fiVe_ED_Popup_Type02 DEXT_fiVe_PUi_' + _skin_name;

            document.getElementById("span_first_tab_1").innerHTML = LayerWin.dext5_lang.image.first_tab;
            document.getElementById("span_first_tab_2").innerHTML = LayerWin.dext5_lang.image.first_tab;
            document.getElementById("span_first_tab_3").innerHTML = LayerWin.dext5_lang.image.first_tab;
            document.getElementById("span_secon_tab_1").innerHTML = LayerWin.dext5_lang.image.secon_tab;
            document.getElementById("span_secon_tab_2").innerHTML = LayerWin.dext5_lang.image.secon_tab;
            document.getElementById("span_secon_tab_3").innerHTML = LayerWin.dext5_lang.image.secon_tab;
            document.getElementById("span_third_tab_1").innerHTML = LayerWin.dext5_lang.image.third_tab;
            document.getElementById("span_third_tab_2").innerHTML = LayerWin.dext5_lang.image.third_tab;
            document.getElementById("span_third_tab_3").innerHTML = LayerWin.dext5_lang.image.third_tab;
            document.getElementById("span_title").innerHTML = LayerWin._dext_editor._FRAMEWIN.G_DEPlugin.imageslider.lang.title;
            document.getElementById("label_image_title").innerHTML = LayerWin.dext5_lang.image.image_title;
            document.getElementById("label_image_url_info").innerHTML = LayerWin.dext5_lang.image.image_url_info;
            document.getElementById("label_image_description").innerHTML = LayerWin.dext5_lang.image.image_description;

            if (Dext5LayerWin._dext_editor._config.uploadUseHTML5 == "1") {
                if (DEXTTOP.DEXT5.browser.mobile == true || DEXTTOP.DEXT5.UserAgent.device.type == 'mobile') {
                    document.getElementById("drop_zone").innerHTML = LayerWin.dext5_lang.upload.drop_zone_content2;
                }
                else {
                    document.getElementById("drop_zone").innerHTML = LayerWin.dext5_lang.upload.drop_zone_content;
                    var drop_zone_text_div = document.getElementById("drop_zone").children[0];
                    drop_zone_text_div.style.height = '46px';
                    drop_zone_text_div.style.paddingTop = '8px';
                }
            }
            else {
                document.getElementById("file_input_search").innerHTML = LayerWin.dext5_lang.image.file_search;
            }

            if (LayerWin._dext_editor._config.allowImgSize == "0") {
                document.getElementById("label_width").innerHTML = "";
                document.getElementById("label_height").innerHTML = "";
            } else {
                document.getElementById("label_width").innerHTML = LayerWin.dext5_lang.image.width;
                document.getElementById("label_height").innerHTML = LayerWin.dext5_lang.image.height;
            }

            document.getElementById("label_original_size").innerHTML = LayerWin.dext5_lang.image.original_size;

            document.getElementById("label_margin_left").innerHTML = LayerWin.dext5_lang.image.margin_left;
            document.getElementById("label_margin_right").innerHTML = LayerWin.dext5_lang.image.margin_right;
            document.getElementById("label_margin_top").innerHTML = LayerWin.dext5_lang.image.margin_top;
            document.getElementById("label_margin_bottom").innerHTML = LayerWin.dext5_lang.image.margin_bottom;

            document.getElementById("label_img_align").innerHTML = LayerWin.dext5_lang.image.align;
            document.getElementById("label_hplink_url_info").innerHTML = LayerWin.dext5_lang.image.image_url_info;
            document.getElementById("label_hplink_title").innerHTML = LayerWin.dext5_lang.image.hyperlink_title;
            document.getElementById("label_hplink_target").innerHTML = LayerWin.dext5_lang.image.hyperlink_target;
            document.getElementById("btn_ok").innerHTML = LayerWin.dext5_lang.image.btn_ok;
            document.getElementById("btn_cancel").innerHTML = LayerWin.dext5_lang.image.btn_cancel;
            document.getElementById("label_continue_insert").innerHTML = LayerWin.dext5_lang.image.continue_insert;

            document.getElementById("label_line_style").innerHTML = LayerWin.dext5_lang.image.line_style;
            document.getElementById("label_line_kind").innerHTML = LayerWin.dext5_lang.image.line_kind;
            document.getElementById("label_line_thickness").innerHTML = LayerWin.dext5_lang.image.line_thickness;
            document.getElementById("span_line_color").innerHTML = LayerWin.dext5_lang.image.line_color;
            document.getElementById("label_not_apply_border").innerHTML = LayerWin.dext5_lang.image.not_apply_border;

            document.getElementById("label_maintain_value").innerHTML = LayerWin.dext5_lang.image.maintain_value;
            document.getElementById("label_image_spacing").innerHTML = LayerWin.dext5_lang.image.image_spacing;

            document.title = LayerWin.dext5_lang.image.frame_title;

            var fileDataObj = document.getElementById("Filedata");
            fileDataObj.id = file_field_id;
            fileDataObj.name = file_field_id;

            var userDataObj = document.getElementById("userField");
            userDataObj.id = user_field_id;
            userDataObj.name = user_field_id;
            userDataObj.value = user_field_value;

            var header = LayerWin.getElementsByClass('EdiTor_Popup_header', document);
            header[0].onselectstart = function () { return false; };
        }

        function set_modify_field() {

            var title = document.getElementById('img_title');
            var alt = document.getElementById('img_alt');
            var img_id = document.getElementById('img_id');
            var img_class = document.getElementById('img_class');
            var img_figure = document.getElementById('img_figure');
            var img_width = document.getElementById('img_width');
            var img_height = document.getElementById('img_height');
            var img_margin_left = document.getElementById('img_margin_left');
            var img_margin_right = document.getElementById('img_margin_right');
            var img_margin_top = document.getElementById('img_margin_top');
            var img_margin_bottom = document.getElementById('img_margin_bottom');
            var align = document.getElementById('img_align');
            var ratio = document.getElementById("img_ratio");
            var img_web_url = document.getElementById('img_web_url');
            var InputFlag = document.getElementsByName('InputFlag');
            var filedata = document.getElementById(file_field_id);
            var tr_create_only_item = document.getElementById('create_only_item');
            var originalSizeTd = document.getElementById('original_size_td');

            if (DEXTTOP.DEXT5.browser.ie && DEXTTOP.DEXT5.browser.ieVersion < 10) {
                originalSizeTd.style.display = 'none';
            }

            tr_create_only_item.style.display = 'none';

            var srcReg = new RegExp('src\s*=\s*(\"|\')(([^\"\']*))(\"|\')', 'gi');
            var matArr = elemModify.outerHTML.match(srcReg);
            var imgSrc = '';
            if (matArr && matArr.length > 0) {
                imgSrc = matArr[0].replace('src=', '');
                imgSrc = imgSrc.replace(/\'/g, '');
                imgSrc = imgSrc.replace(/\"/g, '');
                imgSrc = imgSrc.replace(/\&amp;/g, '&');
            }
            img_web_url.value = imgSrc;

            title.value = elemModify.title;
            alt.value = elemModify.alt;
            img_id.value = elemModify.id;
            img_class.value = elemModify.className;

            if (elemModifyParent) {
                if (img_figure) {
                    img_figure.checked = true;
                    document.getElementById('a_secon_tab_1').style.display = 'none';
                    document.getElementById('a_secon_tab_2').style.display = 'none';
                    document.getElementById('a_secon_tab_3').style.display = 'none';
                }
            }

            var selectWidthUnit = document.getElementById('img_width_unit');
            var selectHeightUnit = document.getElementById('img_height_unit');

            var tmpWidth = tmpHeight = "";
            tmpWidth = LayerWin.getNodeWidthHeight(elemModify, 'width');
            tmpHeight = LayerWin.getNodeWidthHeight(elemModify, 'height');

            if (tmpWidth.indexOf('%') > -1) {
                selectWidthUnit.value = '%';
                img_height.disabled = true;
            } else {
                selectWidthUnit.value = 'px';
            }
            img_width.value = tmpWidth.replace("px", "").replace("%", "");

            if (tmpHeight.indexOf('%') > -1 || tmpWidth.indexOf('%') > -1) {
                selectHeightUnit.value = '%';
                img_height.disabled = true;
            } else {
                selectHeightUnit.value = 'px';
            }
            img_height.value = tmpHeight.replace("px", "").replace("%", "");

            img_margin_left.value = elemModify.style.marginLeft.toString() == '' ? '' : elemModify.style.marginLeft.toString().indexOf('%') < 0 ? Math.round(elemModify.style.marginLeft.replace('px', '')) : '';
            img_margin_right.value = elemModify.style.marginRight.toString() == '' ? '' : elemModify.style.marginRight.toString().indexOf('%') < 0 ? Math.round(elemModify.style.marginRight.replace('px', '')) : '';
            img_margin_top.value = elemModify.style.marginTop.toString() == '' ? '' : elemModify.style.marginTop.toString().indexOf('%') < 0 ? Math.round(elemModify.style.marginTop.replace('px', '')) : '';
            img_margin_bottom.value = elemModify.style.marginBottom.toString() == '' ? '' : elemModify.style.marginBottom.toString().indexOf('%') < 0 ? Math.round(elemModify.style.marginBottom.replace('px', '')) : '';

            if (img_margin_top.value.toString() == "" && elemModify.getAttribute("vspace") == null) {
                
            } else {
                img_margin_top.value.toString() == "" ? elemModify.vspace.toString() == "" ? img_margin_top.value = "" : img_margin_top.value = elemModify.vspace : img_margin_top.value = img_margin_top.value;
            }
            if (img_margin_bottom.value.toString() == "" && elemModify.getAttribute("vspace") == null) {
                
            } else {
                img_margin_bottom.value.toString() == "" ? elemModify.vspace.toString() == "" ? img_margin_bottom.value = "" : img_margin_bottom.value = elemModify.vspace : img_margin_bottom.value = img_margin_bottom.value;
            }
            if (img_margin_right.value.toString() == "" && elemModify.getAttribute("hspace") == null) {
                
            } else {
                img_margin_right.value.toString() == "" ? elemModify.hspace.toString() == "" ? img_margin_right.value = "" : img_margin_right.value = elemModify.hspace : img_margin_right.value = img_margin_right.value;
            }
            if (img_margin_left.value.toString() == "" && elemModify.getAttribute("hspace") == null) {
                
            } else {
                img_margin_left.value.toString() == "" ? elemModify.hspace.toString() == "" ? img_margin_left.value = "" : img_margin_left.value = elemModify.hspace : img_margin_left.value = img_margin_left.value;
            }

            elemModify.align == "" ? align.value = "" : align.value = elemModify.align;

            var prtNode = LayerWin.GetParentbyTagName(elemModify, "a");
            if (prtNode && prtNode.tagName.toLowerCase() == 'a') {
                var _link_url = document.getElementById('link_url');
                var _link_title = document.getElementById('link_title');
                var _link_target = document.getElementById('link_target');

                var prtHtml = prtNode.outerHTML.replace(/"/g, '\'');
                var reg_exp = new RegExp('href\s*=\s*(\"|\')(([^\"\';]*))(\"|\')', 'gi');
                var match_array = prtHtml.match(reg_exp);
                var prtHref = prtNode.getAttribute('href');
                if (match_array && match_array.length > 0) {
                    prtHref = match_array[0].replace('href=', '');
                    prtHref = prtHref.replace(/\'/g, '');
                }

                _link_url.value = prtHref;
                _link_title.value = prtNode.title;
                if (prtNode.target == '') {
                    _link_target.value = _link_target[0].value;
                } else {
                    _link_target.value = prtNode.target;
                }
            }

            ratio.style.display = 'block';
            if (LayerWin._dext_editor._config.allowImgSize == "1" && (selectWidthUnit.value == 'px' && selectHeightUnit.value == 'px')) {
                ratio.className = 'img_link_active_btn';
                ratio.setAttribute('ratio-checked', 'true');
            } else {
                ratio.className = 'img_link_btn';
                ratio.setAttribute('ratio-checked', 'false');
            }


            addEventImgWidthHeight(img_width.value, img_height.value);

            var notApplyBorder = document.getElementById('not_apply_border');
            var lineStyle = document.getElementById('line_style');
            var lineKind = document.getElementById('line_kind');
            var lineColor = document.getElementById('line_color');
            var lineThickness = document.getElementById('line_thickness');

            document.getElementById('tr_not_apply_border').style.display = '';
            notApplyBorder.checked = true;

            var borderStyle = '', borderKind = '', borderColor = '', borderThickness = '';

            borderStyle = elemModify.style.borderStyle;
            if (borderStyle == '') {
                if (elemModify.getAttribute('border') && elemModify.getAttribute('border') != '') {
                    borderStyle = 'solid';
                    borderKind = '';
                    borderColor = '#000000';
                    borderThickness = elemModify.getAttribute('border');
                }
            } else {
                if (elemModify.style.borderColor.indexOf('rgb') < 0 && elemModify.style.borderColor.indexOf('#') < 0) borderColor = '';
                else borderColor = elemModify.style.borderColor;

                if (elemModify.style.borderWidth != '') {
                    if (elemModify.style.borderWidth.indexOf('px') > -1) {
                        borderThickness = elemModify.style.borderWidth;
                    } else {
                        borderKind = elemModify.style.borderWidth;
                    }
                }
            }

            try {
                setBorderListValue(borderStyle, lineStyle);
            } catch (e) {
                setBorderListValue(borderStyle, 'solid');
            }

            try {
                lineColor.style.borderTopColor = borderColor;
            } catch (e) {
                lineColor.style.borderTopColor = '#000000';
            }


            if (borderThickness != '') {
                try {
                    lineThickness.value = parseInt(borderThickness, 10);
                } catch (e) {
                    lineThickness.value = 0;
                }
            }

            if (borderKind != '') {
                try {
                    lineKind.value = borderKind;
                } catch (e) {
                    lineKind.value = '';
                }
                imgLineKindChange();
            }

            var changeNotApplyBorder = function () {
                if (notApplyBorder.checked) {
                    document.getElementById('img_dlg_back').style.display = '';
                } else {
                    var tempvalue = document.getElementById('line_thickness').value;
                    if (tempvalue <= 0) {
                        document.getElementById('line_thickness').value = 1;
                    }
                    document.getElementById('img_dlg_back').style.display = 'none';
                }
            };
            DEXTTOP.DEXT5.util.addEvent(notApplyBorder, "click", changeNotApplyBorder);

            var modify_default_radio = document.getElementById('radio_image_url');
            var modify_radio = document.getElementById('radio_image');

            modify_radio.removeAttribute('checked');
            modify_default_radio.setAttribute('checked', 'checked');
            if (Dext5LayerWin._dext_editor._config.uploadUseHTML5 == "1") {
                InputFlag_change(modify_default_radio);
            } else {
                var img_web_url = document.getElementById("img_web_url");
                img_web_url.removeAttribute("disabled");

                var file_data = document.getElementById(file_field_id);
                file_data.setAttribute("disabled", "disabled");
            }
        }

        function set_modify_ok() {

            if (Dext5LayerWin._dext_editor._config.imgPreView == '1' && DEXTTOP.DEXTDOC.getElementById('dext_imgPreView_popup') != null) {
                var previewPopupOnDisplayFlag = DEXTTOP.DEXTDOC.getElementById('dext_imgPreView_popup').style.display == '' ? true : false;

                if (previewPopupOnDisplayFlag) {
                    LayerWin.closeBtnPreViewMode();
                }
            }

            var filedata = document.getElementById(file_field_id);
            if ((filedata.value && filedata.value != '') || (Dext5LayerWin._dext_editor._config.uploadUseHTML5 == "1" && G_dragDropFileObj)) {
                G_UploadCompleteCallBackFn = processEnd;
                LayerWin.G_DEPlugin.imageslider.G_imageslider_imgOrder = G_IMAGES_ORDER.map((img) => img.index);
                G_IMAGES_ORDER = [];
                dext_upload_image();
            } else {
                var selectedElemOriginUrl = elemModify.src;
                var selectedElemType = "img";
                var targetUrl = web_url_remove_char(img_web_url.value);

                var finalCallBackFn = function (isTotalFileSizeExceeded) {
                    if (isTotalFileSizeExceeded) {
                        var aMessage = LayerWin.setMessageForMaxTotalFileSize(LayerWin._dext_editor);
                        alert(aMessage);
                        return;
                    } else {
                        var img_web_url = document.getElementById('img_web_url');
                        elemModify.src = web_url_remove_char(img_web_url.value);
                        processEnd();
                    }
                }

                var options = {
                    editor: LayerWin._dext_editor,
                    selectedElemUrl: selectedElemOriginUrl,
                    selectedElemType: selectedElemType,
                    targetUrl: targetUrl,
                    finalCallBackFn: finalCallBackFn
                }

                LayerWin.executeDomainCheckForNewInsertFileByUrlProcess(options);
            }
        }

        function processEnd() {
            var title = document.getElementById('img_title');
            var alt = document.getElementById('img_alt');
            var img_id = document.getElementById('img_id');
            var img_class = document.getElementById('img_class');
            var img_figure = document.getElementById('img_figure');
            var img_width = document.getElementById('img_width');
            var img_height = document.getElementById('img_height');
            var img_margin_left = document.getElementById('img_margin_left');
            var img_margin_right = document.getElementById('img_margin_right');
            var img_margin_top = document.getElementById('img_margin_top');
            var img_margin_bottom = document.getElementById('img_margin_bottom');
            var align = document.getElementById('img_align');

            img_id.value == '' ? elemModify.removeAttribute('id') : elemModify.setAttribute('id', img_id.value);
            img_class.value == '' ? elemModify.removeAttribute('class') : elemModify.setAttribute('class', img_class.value);

            if (title.value == '') {
                if (elemModify.getAttribute('title') != null) {
                    elemModify.setAttribute('title', title.value);
                }
            } else {
                elemModify.setAttribute('title', title.value);
            }
            if (alt.value == '') {
                if (elemModify.getAttribute('alt') != null) {
                    elemModify.setAttribute('alt', alt.value);
                }
            } else {
                elemModify.setAttribute('alt', alt.value);
            }

            var selectWidthUnit = document.getElementById('img_width_unit');
            var selectHeightUnit = document.getElementById('img_height_unit');

            if (LayerWin._dext_editor._config.allowImgSize == "1") {
                LayerWin.setNodeWidthHeight(elemModify, {
                    width: img_width.value == '' ? '' : img_width.value + selectWidthUnit.value,
                    height: img_height.value == '' ? '' : img_height.value + selectHeightUnit.value
                });
            }

            elemModify.style.marginLeft = (img_margin_left.value == '' || img_margin_left.value == '-') ? '' : img_margin_left.value + 'px';
            elemModify.style.marginRight = (img_margin_right.value == '' || img_margin_right.value == '-') ? '' : img_margin_right.value + 'px';
            elemModify.style.marginTop = (img_margin_top.value == '' || img_margin_top.value == '-') ? '' : img_margin_top.value + 'px';
            elemModify.style.marginBottom = (img_margin_bottom.value == '' || img_margin_bottom.value == '-') ? '' : img_margin_bottom.value + 'px';

            align.value == '' ? elemModify.removeAttribute('align') : elemModify.setAttribute('align', align.value);

            if (document.getElementById('not_apply_border').checked == false) {
                if (document.getElementById('line_style').style.borderTopStyle != '') {
                    var tempBorderStyle = '';
                    if (document.getElementById('line_style').style.borderTopStyle == 'none') {
                        tempBorderStyle = '0px solid rgb(0,0,0)';
                    } else {
                        var tempThickness = '';
                        if (document.getElementById('line_kind').value != '') {
                            tempThickness = document.getElementById('line_kind').value + ' ';
                        } else {
                            if (document.getElementById('line_thickness').value == '') {
                                document.getElementById('line_thickness').value = '0';
                            }
                            tempThickness = document.getElementById('line_thickness').value + 'px ';
                        }
                        tempBorderStyle = tempThickness + document.getElementById('line_style').style.borderTopStyle + ' ' + document.getElementById('line_color').style.borderTopColor;
                    }

                    if (tempBorderStyle != '') {
                        try {
                            elemModify.style.border = tempBorderStyle;
                        } catch (e) {
                            typeof (RAONWIZDLW) != 'undefined' && RAONWIZDLW && RAONWIZDLW();
                        }
                    }
                }
            }

            var prtNode = elemModify.parentNode;

            var _link_url = document.getElementById('link_url');
            if (_link_url != null && _link_url != undefined && DEXTTOP.DEXT5.util.trim(_link_url.value) != "") {
                var _temp_url;
                try {
                    if (typeof LayerWin._dext_editor._config.event.beforeInsertHyperlink === 'function') {
                        _temp_url = LayerWin._dext_editor._config.event.beforeInsertHyperlink(DEXTTOP.G_CURREDITOR.ID, _link_url.value);
                    } else if (typeof LayerWin.DEXTTOP.DEXTWIN.dext_editor_before_insert_hyperlink_event === 'function') {
                        _temp_url = LayerWin.DEXTTOP.DEXTWIN.dext_editor_before_insert_hyperlink_event(DEXTTOP.G_CURREDITOR.ID, _link_url.value);
                    }
                } catch (e) {
                    typeof (RAONWIZDLW) != 'undefined' && RAONWIZDLW && RAONWIZDLW();
                }
                if (_temp_url != null && _temp_url != undefined) {
                    document.getElementById('link_url').value = _temp_url;
                }
            }
            _link_url = document.getElementById('link_url');
            var _link_title = document.getElementById('link_title');
            var _link_target = document.getElementById('link_target');

            _link_url.value = LayerWin.ReplaceAll(_link_url.value, ' ', '');
            var fmt2 = /^\s\s*$/;
            if (!fmt2.exec(_link_url.value) && _link_url.value != "") {

                var chkReg = new RegExp(/^(http|ftp|https|news)/);
                var chkVal = chkReg.test(_link_url.value);

                if (_link_url.value == LayerWin._dext_editor._config.defaultProtocolInDialog) {
                    _link_url.value = '';
                } else if (chkVal && !LayerWin.urlCheckOrPass(_link_url.value)) {
                    alert(LayerWin.dext5_lang.msg.alert_url);
                    var popTap = LayerWin.getElementsByClass("EdiTor_Popup_contents", document);
                    popTap[0].className = "EdiTor_Popup_contents none";
                    popTap[1].className = "EdiTor_Popup_contents view";
                    _link_url.focus();
                    return;
                }
            }

            var _elemModifyTmp = elemModify;
            if (prtNode.tagName.toLowerCase() == 'a' && !fmt2.exec(link_url.value) && link_url.value != "") {
                prtNode.href = _link_url.value;
                _link_title.value == '' ? '' : prtNode.title = _link_title.value;
                prtNode.target = _link_target.value;

            } else if (prtNode.tagName.toLowerCase() == 'a' && (!!fmt2.exec(link_url.value) || link_url.value == "")) {
                prtNode.outerHTML = elemModify.outerHTML;

            } else if (prtNode.tagName.toLowerCase() != 'a' && !fmt2.exec(link_url.value) && link_url.value != "") {
                var anchor = DEXTTOP.G_CURREDITOR._DOC.createElement('a');
                anchor.href = _link_url.value;
                _link_title.value == '' ? '' : anchor.setAttribute('title', _link_title.value);
                anchor.setAttribute('target', _link_target.value);

                anchor.appendChild(elemModify.cloneNode());
                _elemModifyTmp = anchor;
                elemModify.parentNode.replaceChild(anchor, elemModify);
            }

            G_UploadCompleteCallBackFn = undefined;

            if (img_figure) {
                if (img_figure.checked == false) {
                    if (elemModifyParent) {
                        if (Dext5LayerWin.getApplyDragResize(DEXTTOP.G_CURREDITOR) && DEXTTOP.G_CURREDITOR.dext_dragresize.G_dextResizeDiv)
                            DEXTTOP.G_CURREDITOR.dext_dragresize.resizeHandleClear();

                        var pTag = document.createElement("p");
                        elemModifyParent.parentNode.insertBefore(pTag, elemModifyParent);
                        elemModifyParent.parentNode.replaceChild(_elemModifyTmp, elemModifyParent);
                        pTag.appendChild(_elemModifyTmp);
                    }
                } else {
                    if (!elemModifyParent) {
                        var figure = document.createElement('figure');
                        var figcaptionNode = document.createElement('figcaption');

                        figure.setAttribute("contenteditable", "false");
                        figure.setAttribute("style", Dext5LayerWin._dext_editor._config.figure.figurestyle);
                        figcaptionNode.innerHTML = "<p>" + Dext5LayerWin._dext_editor._config.figure.defaultcaption + "</p>";
                        figcaptionNode.setAttribute("style", Dext5LayerWin._dext_editor._config.figure.figcaptionstyle);
                        figcaptionNode.setAttribute("contenteditable", "true");
                        figure.innerHTML = elemModify.outerHTML + figcaptionNode.outerHTML;

                        var replaceElem = elemModify;
                        var aTag = LayerWin.GetParentbyTagName(elemModify, "a");
                        if (aTag) {
                            replaceElem = aTag;
                        }
                        if (Dext5LayerWin.getApplyDragResize(DEXTTOP.G_CURREDITOR)) {
                            DEXTTOP.G_CURREDITOR.dext_dragresize.resizeHandleClear();
                            DEXTTOP.G_CURREDITOR.dext_dragresize.selection(replaceElem);
                        }

                        var figureHtml = figure.outerHTML;

                        Dext5LayerWin.pasteHtmlAtCaretHuge(figureHtml);
                    }
                }
            }

            LayerWin._dext_editor.UndoManager.putUndo();

            LayerWin.hideDialog(window.frameElement.parentNode.parentNode);
        }

        function InputFlag_change(obj) {
            var img_web_url = document.getElementById("img_web_url");

            if (Dext5LayerWin._dext_editor._config.uploadUseHTML5 == "1") {
                var drop_zone = document.getElementById("drop_zone");
                var td_drop_zone = document.getElementById("_td_drop_zone");

                var img_preview_icon_2 = document.getElementById("imgPreview_img_2");

                if (!elemModify) {
                    img_web_url.value = "";
                }

                if (obj.value == "1") {
                    drop_zone.removeAttribute('hidden')

                    if (G_validImageFiles.length == 1) {
                        drop_zone.setAttribute('style', 'border:solid 1px #c5c5c5; width:340px; height:54px; text-align:center; vertical-align:middle; color:gray; overflow:hidden auto; line-height: 40px; background-position: 40px 14px;');
                    } else if (G_validImageFiles.length > 1) {
                        drop_zone.setAttribute('style', 'border:solid 1px #c5c5c5; width:340px; height:54px; text-align:center; vertical-align:middle; color:gray; overflow-x:hidden; overflow-y:auto; line-height: 40px; background-position: 40px 14px; position:relative;');
                    } else {
                        drop_zone.setAttribute('style', 'border:dashed 1px gray; width:340px; height:54px; text-align:center; vertical-align:middle; color:gray; overflow:hidden auto; line-height: 40px; background-position: 40px 14px;');
                    }

                    td_drop_zone.setAttribute('rowspan', '2');

                    img_web_url.setAttribute('hidden', 'hidden');

                    if (Dext5LayerWin._dext_editor._config.imgPreView == '1') {
                        img_preview_icon_2.setAttribute('hidden', 'hidden');
                        LayerWin.closeBtnPreViewMode();
                    }
                }
                else if (obj.value == "2") {
                    drop_zone.setAttribute('hidden', 'hidden');
                    drop_zone.removeAttribute('style');

                    td_drop_zone.removeAttribute('rowspan')

                    img_web_url.removeAttribute('hidden');

                    if (!elemModify) {
                        img_web_url.value = (Dext5LayerWin._dext_editor._config.defaultProtocolInDialog != '-' ? Dext5LayerWin._dext_editor._config.defaultProtocolInDialog : '');
                    }
                    img_web_url.removeAttribute("disabled");
                    setCursorPos(img_web_url, true, false);

                    if (Dext5LayerWin._dext_editor._config.imgPreView == '1') {
                        img_preview_icon_2.removeAttribute('hidden');
                        LayerWin.closeBtnPreViewMode();
                    }
                }
            }
            else {
                var file_data = document.getElementById(file_field_id);

                file_data.setAttribute("disabled", "disabled");
                img_web_url.setAttribute("disabled", "disabled");

                if (!elemModify) {
                    img_web_url.value = "";
                }

                if (obj.value == "1") {
                    file_data.removeAttribute("disabled");
                } else if (obj.value == "2") {
                    if (!elemModify) {
                        img_web_url.value = (Dext5LayerWin._dext_editor._config.defaultProtocolInDialog != '-' ? Dext5LayerWin._dext_editor._config.defaultProtocolInDialog : '');
                    }
                    img_web_url.removeAttribute("disabled");
                    setCursorPos(img_web_url, true, false);
                }
            }


        }

        function popup_toggle(tapNum) {
            var popTap = LayerWin.getElementsByClass("EdiTor_Popup_contents", document);
            var div_tab_arr = LayerWin.getElementsByClass("con_btn", document);
            var input_link_url = document.getElementById('link_url');

            switch (tapNum) {
                case 0:
                    setCursorPos(document.getElementById('radio_image'), false, false);
                    input_link_url.value = LayerWin.ReplaceAll(input_link_url.value, ' ', '');
                    if (input_link_url.value != '') {
                        var chkReg = new RegExp(/^(http|ftp|https|news)/);
                        var chkVal = chkReg.test(input_link_url.value);
                        if (input_link_url.value == LayerWin._dext_editor._config.defaultProtocolInDialog) {
                            input_link_url.value = '';
                        } else if (chkVal && !LayerWin.urlCheckOrPass(input_link_url.value)) {
                            alert(LayerWin.dext5_lang.msg.alert_url);
                            input_link_url.focus();
                            return;
                        }
                    }
                    popTap[0].className = "EdiTor_Popup_contents view";
                    popTap[1].className = "EdiTor_Popup_contents none";
                    popTap[2].className = "EdiTor_Popup_contents none";

                    document.getElementById('img_dlg_back').style.display = 'none';

                    LayerWin.setFocusFirstAndLast(document, div_tab_arr[0].getElementsByTagName('a')[0]);
                    break;
                case 1:
                    popTap[0].className = "EdiTor_Popup_contents none";
                    popTap[1].className = "EdiTor_Popup_contents view";
                    popTap[2].className = "EdiTor_Popup_contents none";

                    document.getElementById('img_dlg_back').style.display = 'none';

                    if (input_link_url.value == '') {
                        input_link_url.value = LayerWin._dext_editor._config.defaultProtocolInDialog;
                    }
                    setCursorPos(input_link_url, true, false);
                    LayerWin.setFocusFirstAndLast(document, div_tab_arr[1].getElementsByTagName('a')[0]);
                    break;
                case 2:
                    popTap[0].className = "EdiTor_Popup_contents none";
                    popTap[1].className = "EdiTor_Popup_contents none";
                    popTap[2].className = "EdiTor_Popup_contents view";

                    if (document.getElementById('not_apply_border').checked) {
                        document.getElementById('img_dlg_back').style.display = '';
                    }

                    LayerWin.setFocusFirstAndLast(document, div_tab_arr[2].getElementsByTagName('a')[0]);
                    break;
                default: return;
            }
        }

        function lineCountCheck(object, mode, max, min) {
            if (parseInt(object.value, 10) < parseInt(min, 10)) {
                if (mode == "L") {
                    alert(LayerWin.dext5_lang.msg.detailTableInsertLineThicknessMinAlert);
                    object.focus();
                }
                object.value = min;
            } else if (parseInt(object.value, 10) > parseInt(max, 10)) {
                if (mode == "L") {
                    alert(LayerWin.dext5_lang.msg.detailTableInsertLineThicknessMaxAlert);
                    object.focus();
                }
                object.value = max;
            }
        }

        function addEventImgWidthHeight(originW, originH) {
            var img_width = document.getElementById('img_width');
            var img_height = document.getElementById('img_height');
            var ratio = document.getElementById("img_ratio");
            var selectWidthUnit = document.getElementById('img_width_unit');
            var selectHeightUnit = document.getElementById('img_height_unit');
            var ratio_width_keyup = (function () {
                if (selectWidthUnit.value == 'px' && selectHeightUnit.value == 'px') {
                    if (ratio.getAttribute("ratio-checked") == "true") {
                        var y = ((parseInt(originH, 10) * parseInt(img_width.value, 10)) / parseInt(originW, 10));
                        img_height.value = isNaN(y) ? img_height.value : Math.round(y);
                    }
                }
            });
            var ratio_height_keyup = (function () {
                if (selectWidthUnit.value == 'px' && selectHeightUnit.value == 'px') {
                    if (ratio.getAttribute("ratio-checked") == "true") {
                        var x = ((parseInt(originW, 10) * parseInt(img_height.value, 10)) / parseInt(originH, 10));
                        img_width.value = isNaN(x) ? img_width.value : Math.round(x);
                    }
                }
            });
            DEXTTOP.DEXT5.util.addEvent(img_width, "keyup", ratio_width_keyup);
            DEXTTOP.DEXT5.util.addEvent(img_height, "keyup", ratio_height_keyup);
        }

        function addImageOrder(files) {
            const imageList = document.getElementById('imageList');
            if (files.length == 0) return;

            imageList.innerHTML = '';

            const dropLeft = document.createElement('div');
            dropLeft.className = 'drop-left';
            const dropRight = document.createElement('div');
            dropRight.className = 'drop-right';
            imageList.appendChild(dropLeft);

            files.forEach((file, index) => {
                const separator = document.createElement('div');
                separator.className = 'image-separator-' + G_SKINNAME;
                imageList.appendChild(separator);

                const url = URL.createObjectURL(file);
                const listItem = document.createElement('div');
                listItem.className = 'image-item-' + G_SKINNAME;
                listItem.draggable = true;
                listItem.dataset.index = index;

                const img = document.createElement('img');
                img.src = url;
                img.onload = () => URL.revokeObjectURL(url);

                listItem.appendChild(img);
                imageList.appendChild(listItem);

                G_IMAGES_ORDER.push({ file, index });
            });

            const lastSeparator = document.createElement('div');
            lastSeparator.className = 'image-separator-' + G_SKINNAME;
            imageList.appendChild(lastSeparator);

            imageList.appendChild(dropRight);

            enableDragAndDrop();
        }

        function enableDragAndDrop() {
            const imageList = document.getElementById('imageList');
            const items = document.querySelectorAll('.image-item-' + G_SKINNAME);
            const separators = document.querySelectorAll('.image-separator-' + G_SKINNAME);
            const dropLeft = document.querySelector('.drop-left');
            const dropRight = document.querySelector('.drop-right');
            let draggedItem = null;

            const clearActiveSeparators = () => {
                separators.forEach(s => s.classList.remove('active'));
            };

            dropLeft.addEventListener('dragover', (e) => {
                e.preventDefault();
                clearActiveSeparators();
                const firstSeparator = imageList.querySelector('.image-separator-' + G_SKINNAME);
                firstSeparator?.classList.add('active');
            });

            dropRight.addEventListener('dragover', (e) => {
                e.preventDefault();
                clearActiveSeparators();
                const lastSeparator = [...separators].pop();
                lastSeparator?.classList.add('active');
            });

            dropLeft.addEventListener('drop', (e) => {
                e.preventDefault();
                if (!draggedItem) return;
                const firstItem = imageList.querySelector('.image-item-' + G_SKINNAME);
                imageList.insertBefore(draggedItem, firstItem);
                clearActiveSeparators();
                updateImageOrder();
            });

            dropRight.addEventListener('drop', (e) => {
                e.preventDefault();
                if (!draggedItem) return;
                imageList.appendChild(draggedItem);
                clearActiveSeparators();
                updateImageOrder();
            });

            items.forEach((item) => {
                item.addEventListener('dragstart', () => {
                    draggedItem = item;
                    setTimeout(() => item.classList.add('dragging'), 0);
                });

                item.addEventListener('dragend', () => {
                    draggedItem?.classList.remove('dragging');
                    draggedItem = null;
                    clearActiveSeparators();
                });

                item.addEventListener('dragover', (e) => {
                    e.preventDefault();

                    const target = e.currentTarget;
                    const targetRect = target.getBoundingClientRect();
                    const offsetX = e.clientX - targetRect.left;
                    const isLeft = offsetX < targetRect.width / 2;

                    const allChildren = Array.from(imageList.children);
                    const targetIndex = allChildren.indexOf(target);

                    clearActiveSeparators();

                    let separator = isLeft
                        ? allChildren[targetIndex - 1]
                        : allChildren[targetIndex + 1];

                    if (separator?.classList.contains('image-separator-' + G_SKINNAME)) {
                        separator.classList.add('active');
                    }
                });

                item.addEventListener('drop', (e) => {
                    e.preventDefault();
                    const target = e.currentTarget;
                    const rect = target.getBoundingClientRect();
                    const offsetX = e.clientX - rect.left;
                    const isLeft = offsetX < rect.width / 2;

                    if (isLeft) {
                        imageList.insertBefore(draggedItem, target);
                    } else {
                        imageList.insertBefore(draggedItem, target.nextSibling);
                    }

                    clearActiveSeparators();
                    updateImageOrder();
                });

                item.addEventListener('mouseover', (e) => {
                    let target = e.target;
                    if (target.tagName === "IMG") target = target.parentNode;
                    target.classList.add("on");
                });

                item.addEventListener('mouseleave', (e) => {
                    let target = e.target;
                    if (target.tagName === "IMG") target = target.parentNode;
                    target.classList.remove("on");
                });
            });

            separators.forEach((separator) => {
                separator.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    clearActiveSeparators();
                    separator.classList.add('active');
                });

                separator.addEventListener('dragleave', () => {
                    separator.classList.remove('active');
                });

                separator.addEventListener('drop', (e) => {
                    e.preventDefault();
                    if (!draggedItem) return;
                    imageList.insertBefore(draggedItem, separator.nextSibling);
                    clearActiveSeparators();
                    updateImageOrder();
                });
            });
        }

        function updateImageOrder() {
            const imageList = document.getElementById("imageList");

            const items = Array.from(imageList.querySelectorAll(".image-item-" + G_SKINNAME));

            G_IMAGES_ORDER = items.map((item) => {
                const index = parseInt(item.dataset.index, 10);
                return G_IMAGES_ORDER.find((img) => img.index === index);
            });

            const dropZone = document.getElementById("drop_zone");
            const dropZoneItems = Array.from(dropZone.getElementsByClassName("drop_zone_file_list"));

            items.forEach((item) => {
                const index = parseInt(item.dataset.index, 10);
                const matchingDropZoneItem = dropZoneItems.find(
                    (dropZoneItem) => parseInt(dropZoneItem.dataset.index, 10) === index
                );

                if (matchingDropZoneItem) {
                    dropZone.appendChild(matchingDropZoneItem);
                }
            });

            const separators = Array.from(imageList.querySelectorAll(".image-separator-" + G_SKINNAME));

            if (separators.length === items.length + 1) {
                const dropLeft = imageList.querySelector('.drop-left');
                const dropRight = imageList.querySelector('.drop-right');
                imageList.innerHTML = '';
                imageList.appendChild(dropLeft);
                items.forEach((item, i) => {
                    imageList.appendChild(separators[i]);
                    imageList.appendChild(item);
                });
                imageList.appendChild(separators[separators.length - 1]);
                imageList.appendChild(dropRight);
            }
        }
    </script>
</head>
<body style="margin:0px; padding:0px; " onload="page_loaded_event(); page_dialog_loaded_event();">
    <div id="dext_dialog_box" class="">
        <div id="img_dlg_back" style="display:none;"></div>
        <!-- Header -->
        <div class="EdiTor_Popup_header">
            <span id="span_title" class="subject">이미지</span><span class="text"></span>
            <div class="close">
                <a href="javascript:event_dext_image_upload_cancel();" title="close"></a>
            </div>
        </div>
        <!-- // Header -->
        <!-- Contents / general -->
        <div class="EdiTor_Popup_contents view" id="tab_1">
            <div class="con_btn" style="display:none;">
                <a href="javascript:void(0);" id="first_tab_1" class="on"><span id="span_first_tab_1"></span></a>
                <a href="javascript:popup_toggle(1);" class="off" id="a_secon_tab_1"><span id="span_secon_tab_1"></span></a>
                <a href="javascript:popup_toggle(2);" class="off"><span id="span_third_tab_1"></span></a>
            </div>
            <input type="hidden" id="upload_url" name="upload_url" value="" />
            <form name="dext_upload_form" id="dext_upload_form" method="post" target="upload_frame" enctype="multipart/form-data" action="">
                <div id="div_config">
                    <input type="hidden" id="pe" name="pe" value="1" />
                    <input type="hidden" id="document_domain" name="document_domain" value="" />
                    <input type="hidden" id="proxy_url" name="proxy_url" value="" />
                    <input type="hidden" id="uploadtype" name="uploadtype" value="image" />
                    <input type="hidden" id="savefilename" name="savefilename" value="" />
                    <input type="hidden" id="savefileext" name="savefileext" value="" />
                    <input type="hidden" id="serverdomain" name="serverdomain" value="" />
                    <input type="hidden" id="tosavepathurl" name="tosavepathurl" value="" />
                    <input type="hidden" id="savafoldernamerule" name="savafoldernamerule" value="" />
                    <input type="hidden" id="savafilenamerule" name="savafilenamerule" value="" />
                    <input type="hidden" id="image_convert_format" name="image_convert_format" value="" />
                    <input type="hidden" id="image_convert_width" name="image_convert_width" value="" />
                    <input type="hidden" id="image_convert_height" name="image_convert_height" value="" />
                    <input type="hidden" id="userField" value="" />
                    <input type="hidden" id="originalfilename" name="originalfilename" value="" />
                    <input type="hidden" id="original_image_width" name="original_image_width" value="" />
                    <input type="hidden" id="original_image_height" name="original_image_height" value="" />
                    <input type="hidden" id="cd" name="cd" value="" />
                    <input type="hidden" id="uploadUseHTML5" name="uploadUseHTML5" value="" />
                </div>
                <div id="contents_tab_1" class="contents" style="height:285px; overflow: hidden;">
                    <div class="speech_balloons" id="access_div" style="position:absolute; display:none; width:317px;">
                        <span class="sp_t" style="width:300px;"><p></p></span>
                        <span class="sp_arrow">
                            <img src="../../images/editor/dialog/speech_arrow.gif" width="15" height="16" alt="web accessibility" />
                        </span>
                    </div>
                    <div class="con border">
                        <table cellpadding="0" cellspacing="0">
                            <tr id="file_tag_or_drop_zone"></tr>
                            <tr style="display: none;">
                                <td><input id="image_slider_flag" name="imageSliderFlag" value="" /></td>
                                <td><input id="radio_image_url" name="InputFlag" onclick="InputFlag_change(this);" type="radio" value="2" /></td>
                                <td><label for="radio_image_url" id="label_image_url_info">이미지 경로</label></td>
                                <td>
                                    <input type="text" id="img_web_url" name="img_web_url" style="width:320px;" class="con_input" disabled="disabled" />
                                </td>
                            </tr>
                            <tr style="display: none;">
                                <td colspan="2"><label for="img_title" id="label_image_title">이미지 제목</label></td>
                                <td>
                                    <input id="img_title" type="text" style="width:320px;" class="con_input" />
                                </td>
                            </tr>
                            <tr style="display: none;">
                                <td colspan="2">
                                    <label for="img_alt" id="label_image_description">이미지 설명</label>
                                    <a href="javascript:LayerWin.showAccessPopup(document, document.getElementById('access_img'), document.getElementById('access_div'), LayerWin.dext5_lang.access_explain.image, 15, 0);">
                                        <img id="access_img" src="../../images/editor/dialog/editor_a.gif" alt="web_accessibility" style="border:0;" />
                                    </a>
                                </td>
                                <td><input id="img_alt" type="text" style="width:320px;" class="con_input" /></td>
                            </tr>
                            <tr id="figure">
                            </tr>
                        </table>
                        <table cellpadding="0" cellspacing="0" style="margin-top: 5px;height:120px;">
                            <tr>
                                <td width="23.5%" style="margin-right:1px;"><label id="label_slider_order" for="slider_width"></label></td>
                                <td width="75.5%" style="border: 0.5px solid rgba(0,0,0,0.25);">
                                    <div class="image-list" id="imageList"></div>
                                </td>
                            </tr>
                        </table>
                        <table cellpadding="0" cellspacing="0" style="margin-top: 5px;">
                            <tr>
                                <td width="25%"><label id="label_slider_width" for="slider_width"></label></td>
                                <td width="25%">
                                    <input name="slider_width" id="slider_width" type="text" style="width:55px;" class="con_input" value="" />
                                    <label style="vertical-align:middle;">px</label>
                                </td>
                                <td width="25%"><label id="label_slider_height" for="slider_height"></label></td>
                                <td width="25%">
                                    <input name="slider_height" id="slider_height" type="text" style="width:55px;" class="con_input" value="" />
                                    <label style="vertical-align:middle;">px</label>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <iframe id="upload_frame" name="upload_frame" frameborder="0" style="width:0px; height:0px; display:none;" title="DEXT5Editor Upload"></iframe>
                    <div class="con">
                        <table cellpadding="0" cellspacing="0">
                            <tr>
                                <td width="50%">
                                    <input type="checkbox" id="cb_dragable" checked="checked" />
                                    <label style="vertical-align:middle;" id="label_dragable" for="cb_dragable"></label>
                                </td>
                                <td width="50%">
                                    <input type="checkbox" id="cb_rewindable" checked="checked" />
                                    <label style="vertical-align:middle;" id="label_rewindable" for="cb_rewindable"></label>
                                </td>
                            </tr>
                            <tr>
                                <td width="50%">
                                    <input type="checkbox" id="cb_use_dots" checked="checked" />
                                    <label style="vertical-align:middle;" id="label_use_dots" for="cb_use_dots"></label>
                                </td>
                                <td width="50%">
                                    <input type="checkbox" id="cb_use_arrows" checked="checked" />
                                    <label style="vertical-align:middle;" id="label_use_arrows" for="cb_use_arrows"></label>
                                </td>
                            </tr>
                        </table>
                        <table cellpadding="0" cellspacing="0"  style="display: none;">
                            <tr>
                                <td width="20%"><label for="img_width" id="label_width"></label></td>
                                <td width="25%">
                                    <div id="img_width_div"><input id="img_width" type="text" style="width:55px;" class="con_input" /><select id="img_width_unit" onchange="imgSizeUnitChange(this.value, 'w')"><option selected value="px">px</option><option value="%">%</option></select></div>
                                </td>
                                <td rowspan="2" align="left" width="10%">
                                    <a id="img_ratio" style="display:none;" ratio-checked="false" class="img_link_btn" title="비율 유지"></a>
                                </td>
                                <td width="20%">
                                    <label for="img_id" id="label_id">ID : </label>
                                </td>
                                <td width="25%">
                                    <input id="img_id" type="text" style="width:98px;" class="con_input" />
                                </td>
                            </tr>
                            <tr>
                                <td width="20%"><label for="img_height" id="label_height"></label></td>
                                <td width="25%">
                                    <div id="img_height_div"><input id="img_height" type="text" style="width:55px;" class="con_input" /><select id="img_height_unit" onchange="imgSizeUnitChange(this.value, 'h')"><option selected value="px">px</option><option value="%">%</option></select></div>
                                </td>
                                <td>
                                    <label for="img_class" id="label_class">Class : </label>
                                </td>
                                <td>
                                    <input id="img_class" type="text" style="width:98px;" class="con_input" />
                                </td>
                            </tr>
                            <tr>
                                <td width="20%"><label for="img_align" id="label_img_align">정렬</label></td>
                                <td width="25%">
                                    <select id="img_align" style="width:90px;">
                                        <option value="">default</option>
                                        <option value="left">Left</option>
                                        <option value="right">Right</option>
                                        <option value="top">Top</option>
                                        <option value="middle">Middle</option>
                                        <option value="baseline">Baseline</option>
                                        <option value="bottom">Bottom</option>
                                        <option value="texttop">Text Top</option>
                                        <option value="absmiddle">absMiddle</option>
                                        <option value="absbottom">absBottom</option>
                                    </select>
                                </td>
                                <td rowspan="5" align="left" width="10%"></td>
                                <td width="20%">
                                    <!--<label for="img_border" id="label_img_border">테두리</label>-->
                                </td>
                                <td width="25%">
                                    <!--<table style="line-height: normal; table-layout: auto; width:100% !important;" cellpadding="0" cellspacing="0">
                                        <tbody>
                                            <tr>
                                                <td width="50px">
                                                    <div class="no_a">
                                                        <input id="img_border" name="img_border" type="text" style="height:20; width:30px;" class="con_input" value="0" />
                                                        <ul>
                                                            <li id="border_spinUp"><a style="cursor: pointer;" href="javascript:void(0);"><img width="15" height="10" src="../../images/editor/dialog/btn/editor_ta_btn.gif" /></a></li>
                                                            <li id="border_spinDown"><a style="cursor: pointer;" href="javascript:void(0);"><img width="15" height="10" src="../../images/editor/dialog/btn/editor_ba_btn.gif" /></a></li>
                                                        </ul>
                                                    </div>
                                                </td>
                                                <td>px</td>
                                            </tr>
                                        </tbody>
                                    </table>-->
                                </td>
                            </tr>
                            <tr>
                                <td width="20%"><label for="img_margin_left" id="label_margin_left">좌여백</label></td>
                                <td width="25%">
                                    <table style="line-height: normal; table-layout: auto; width:100% !important;" cellpadding="0" cellspacing="0">
                                        <tbody>
                                            <tr>
                                                <td width="50px">
                                                    <div class="no_a">
                                                        <input id="img_margin_left" type="text" style="width:29px;" class="con_input" value="0" />
                                                        <ul>
                                                            <li id="margin_left_spinUp"><a style="cursor: pointer;" href="javascript:void(0);"><img width="15" height="10" src="../../images/editor/dialog/btn/editor_ta_btn.gif" /></a></li>
                                                            <li id="margin_left_spinDown"><a style="cursor: pointer;" href="javascript:void(0);"><img width="15" height="10" src="../../images/editor/dialog/btn/editor_ba_btn.gif" /></a></li>
                                                        </ul>
                                                    </div>
                                                </td>
                                                <td>px</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </td>
                                <td><label for="img_margin_right" id="label_margin_right">우여백</label></td>
                                <td>
                                    <table style="line-height: normal; table-layout: auto; width:100% !important;" cellpadding="0" cellspacing="0">
                                        <tbody>
                                            <tr>
                                                <td width="50px">
                                                    <div class="no_a">
                                                        <input id="img_margin_right" type="text" style="width:29px;" class="con_input" value="0" />
                                                        <ul>
                                                            <li id="margin_right_spinUp"><a style="cursor: pointer;" href="javascript:void(0);"><img width="15" height="10" src="../../images/editor/dialog/btn/editor_ta_btn.gif" /></a></li>
                                                            <li id="margin_right_spinDown"><a style="cursor: pointer;" href="javascript:void(0);"><img width="15" height="10" src="../../images/editor/dialog/btn/editor_ba_btn.gif" /></a></li>
                                                        </ul>
                                                    </div>
                                                </td>
                                                <td>px</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </td>
                            </tr>
                            <tr>
                                <td width="20%"><label for="img_margin_top" id="label_margin_top">상여백</label></td>
                                <td width="25%">
                                    <table style="line-height: normal; table-layout: auto; width:100% !important;" cellpadding="0" cellspacing="0">
                                        <tbody>
                                            <tr>
                                                <td width="50px">
                                                    <div class="no_a">
                                                        <input id="img_margin_top" type="text" style="width:29px;" class="con_input" value="0" />
                                                        <ul>
                                                            <li id="margin_top_spinUp"><a style="cursor: pointer;" href="javascript:void(0);"><img width="15" height="10" src="../../images/editor/dialog/btn/editor_ta_btn.gif" /></a></li>
                                                            <li id="margin_top_spinDown"><a style="cursor: pointer;" href="javascript:void(0);"><img width="15" height="10" src="../../images/editor/dialog/btn/editor_ba_btn.gif" /></a></li>
                                                        </ul>
                                                    </div>
                                                </td>
                                                <td>px</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </td>
                                <td><label for="img_margin_bottom" id="label_margin_bottom">하여백</label></td>
                                <td>
                                    <table style="line-height: normal; table-layout: auto; width:100% !important;" cellpadding="0" cellspacing="0">
                                        <tbody>
                                            <tr>
                                                <td width="50px">
                                                    <div class="no_a">
                                                        <input id="img_margin_bottom" type="text" style="width:29px;" class="con_input" value="0" />
                                                        <ul>
                                                            <li id="margin_bottom_spinUp"><a style="cursor: pointer;" href="javascript:void(0);"><img width="15" height="10" src="../../images/editor/dialog/btn/editor_ta_btn.gif" /></a></li>
                                                            <li id="margin_bottom_spinDown"><a style="cursor: pointer;" href="javascript:void(0);"><img width="15" height="10" src="../../images/editor/dialog/btn/editor_ba_btn.gif" /></a></li>
                                                        </ul>
                                                    </div>
                                                </td>
                                                <td>px</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </td>
                            </tr>
                            <tr>
                                <td width="45%" colspan="2" id="original_size_td"><input type="checkbox" id="original_size" /><label style="vertical-align:middle;" for="original_size" id="label_original_size">원본크기 유지</label></td>
                                <td colspan="2" id="create_only_item">
                                    <input type="checkbox" id="continue_insert" /><label style="vertical-align:middle;" for="continue_insert" id="label_continue_insert">이미지 계속 삽입</label>
                                </td>
                            </tr>
                            <tr id="continue_insert_menu">
                                <td width="45%" colspan="2"><input type="checkbox" id="image_spacing" /><label style="vertical-align:middle;" for="image_spacing" id="label_image_spacing">이미지 간격 띄우기</label></td>
                                <td colspan="2">
                                    <input type="checkbox" id="maintain_value" /><label style="vertical-align:middle;" for="maintain_value" id="label_maintain_value">값 유지</label>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </form>
        </div>
        <!-- // Contents -->
        <!-- hyperlink tap  -->
        <div class="EdiTor_Popup_contents none" id="tab_2">
            <div class="con_btn">
                <a href="javascript:popup_toggle(0);" class="off"><span id="span_first_tab_2"></span></a>
                <a href="javascript:void(0);" class="on" id="a_secon_tab_2"><span id="span_secon_tab_2"></span></a>
                <a href="javascript:popup_toggle(2);" class="off"><span id="span_third_tab_2"></span></a>
            </div>
            <div id="contents_tab_2" class="contents" style="height:320px; overflow: view;">
                <div class="speech_balloons" id="target_access_div" style="position:absolute; display:none; width:401px;">
                    <span class="sp_t" style="width:401px;"><p></p></span>
                </div>
                <div class="con border">
                    <table cellpadding="0" cellspacing="0">
                        <tr>
                            <td width="5%"></td>
                            <td width="22%"><label for="link_url" id="label_hplink_url_info"></label></td>
                            <td width="73%">
                                <input id="link_url" name="link_url" type="text" style="width:320px;" class="con_input" />
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td><label for="link_title" id="label_hplink_title"></label></td>
                            <td>
                                <input id="link_title" name="link_title" type="text" style="width:320px;" class="con_input" />
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <label for="link_target" id="label_hplink_target"></label>
                                <a href="javascript:LayerWin.showAccessPopup(document, document.getElementById('target_access_img'), document.getElementById('target_access_div'), LayerWin.dext5_lang.access_explain.hyperlink_target);">
                                    <img id="target_access_img" src="../../images/editor/dialog/question_mark.gif" alt="web_accessibility" style="border:0;" />
                                </a>
                            </td>
                            <td>
                                <select id="link_target" name="link_target" style="width:320px;"></select>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
        <!-- hyperlink tap -->
        <!-- edge tap -->
        <div class="EdiTor_Popup_contents none" id="tap_3">
            <div class="con_btn">
                <a href="javascript:popup_toggle(0);" class="off"><span id="span_first_tab_3"></span></a>
                <a href="javascript:popup_toggle(1);" class="off" id="a_secon_tab_3"><span id="span_secon_tab_3"></span></a>
                <a href="javascript:void(0);" class="on"><span id="span_third_tab_3"></span></a>
            </div>
            <div id="contents_tab_3" class="contents" style="height:320px; overflow: view;">
                <div class="con border">
                    <table cellspacing="0" cellpadding="0">
                        <tbody>
                            <tr>
                                <td width="25%">
                                    <label id="label_line_style" for="line_style_btn">선 모양</label>
                                </td>
                                <td width="25%">
                                    <div style="z-index: 10; position: relative;">
                                        <button class="line_btn" type="button" name="line_style_btn" id="line_style_btn" onclick="fnLineStyleToggle();">
                                            <span id="line_style" class="cr" style="border-top: 1px solid #5d5d5d;"></span>
                                        </button>
                                        <div id="line_style_list" class="line_style" style="z-index: 1; position: absolute; left: 0px; top: 19px; _left: 2px; display: none;">
                                            <ul id="ul_line_style"></ul>
                                        </div>
                                    </div>
                                </td>
                                <td width="25%">
                                    <label id="label_line_kind" for="line_kind">선 종류</label>
                                </td>
                                <td width="25%">
                                    <select name="line_kind" id="line_kind" style="width: 90px;" onchange="imgLineKindChange(true);"></select>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <span id="span_line_color">선 색상</span>
                                </td>
                                <td>
                                    <!-- 컬러피커 수정으로 인한 위치 변경 by jh 2017.03.28 -->
                                    <!--<div class="tbd" style="cursor: pointer;" onclick="javascript:LayerWin.showColorPopup(document,document.getElementById('line_color'),'borderTopColor','line_color',-5,6,null);">-->
                                    <div class="tbd" style="cursor: pointer;" onclick="javascript:LayerWin.showColorPopup(document,document.getElementById('line_color'),'borderTopColor','line_color',-5,-36,null);">
                                        <a href="javascript:void(0);">
                                            <span class="tbd_color" id="line_color" style="border-top-color: rgb(0, 0, 0);"></span>
                                        </a>
                                    </div>
                                </td>
                                <td>
                                    <label id="label_line_thickness" for="line_thickness">선 두께</label>
                                </td>
                                <td>
                                    <table style="line-height: normal; table-layout: auto;" cellspacing="0" cellpadding="0">
                                        <tbody>
                                            <tr>
                                                <td>
                                                    <div class="no_ab">
                                                        <input name="line_thickness" class="con_input" id="line_thickness" onkeydown="LayerWin.onlyNumber(event);" onkeyup="lineThicknessChange();" onblur="lineCountCheck(this,'L','10','0');" type="text" maxlength="4">
                                                        <ul id="line_thickness_updn_btn">
                                                            <li onclick="LayerWin.click_plus_func(document.getElementById('line_thickness'),10,1,lineThicknessChange)"><a style="cursor: pointer;" href="javascript:void(0);"><img width="15" height="10" alt="" src="../../images/editor/dialog/btn/editor_ta_btn.gif"></a></li>
                                                            <li onclick="LayerWin.click_minus_func(document.getElementById('line_thickness'),0,1,false,lineThicknessChange)"><a style="cursor: pointer;" href="javascript:void(0);"><img width="15" height="10" alt="" src="../../images/editor/dialog/btn/editor_ba_btn.gif"></a></li>
                                                        </ul>
                                                    </div>
                                                </td>
                                                <td width="10">px</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </td>
                            </tr>
                            <tr id="tr_not_apply_border" style="display:none;">
                                <td colspan="3">
                                    <input type="checkbox" id="not_apply_border" />
                                    <label style="vertical-align:middle;" id="label_not_apply_border" for="not_apply_border">테두리 변경 안함</label>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!-- edge tap -->
        <!-- Footer -->
        <div class="EdiTor_Popup_footer">
            <span id="dext_loading" style="display:none;"><img src="../../images/editor/dialog/loading.gif" alt="working" style="vertical-align:middle; " /> Uploading... </span>
            <a href="javascript:void(0);" class="confirm" id="btn_ok_a"><span id="btn_ok">확인</span></a>
            <a href="javascript:event_dext_image_upload_cancel();" class="cancel" id="abtn_cancel"><span id="btn_cancel">취소</span></a>
        </div>
        <!-- // Footer -->
    </div>
</body>
</html>