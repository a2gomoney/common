<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:w2="http://www.inswave.com/websquare"
	xmlns:xf="http://www.w3.org/2002/xforms">
	<head meta_programId="gridViewFinderExm" meta_programName="Gridview Finder 예제"
		meta_programDesc="Gridview Finder를 이용해서 GridView의 데이터를 검색하는 예제" meta_author="Inswave Systems" meta_date="2023.07.01"
		meta_screenName="샘플화면 - gridViewFinder 적용 샘플">
		<w2:type>COMPONENT</w2:type>
		<w2:buildDate />
		<xf:model>
			<xf:instance>
				<data xmlns="" />
			</xf:instance>
			<w2:dataCollection baseNode="map">
				<w2:dataMap baseNode="map" id="dma_fileDesc">
					<w2:keyInfo>
						<w2:key id="desc" name="" dataType="text"></w2:key>
						<w2:key id="test" name="" dataType="text"></w2:key>
					</w2:keyInfo>
					<w2:data use="true">
						<desc><![CDATA[<pre class="textNor">GridViewFinder UDC는 Browser의 검색 기능과 유사한 형태로 GridView의 데이터를 검색하는 기능을 제공합니다.</pre>]]></desc>
						<test><![CDATA[<pre class="textNor"> GridView Finder 사용 방법  
                            
1) GridView의 셀을 클릭한다.  
2) GridView 데이터 검색 단축키 (f2)를 누른다.  (단축키는 hotkey 속성으로 변경 가능)  
3) 데이터 검색 창에서 검색 키워드를 입력하고 입력을 멈춘후 잠시 기다리거나 엔터키를 누른다.  
4) 검색을 마치고 검색 창을 닫으려면 ESC 키 혹은 단축키(f2)를 누른다.</pre>]]></test>
					</w2:data>
				</w2:dataMap>
				<w2:dataList id="dlt_commonGrp" baseNode="list" saveRemovedData="true" repeatNode="map"
					ev:onbeforerowpositionchange="scwin.dlt_commonGrp_onbeforerowpositionchange">
					<w2:columnInfo>
						<w2:column id="chk" name="선택" dataType="text" ignoreStatus="true"></w2:column>
						<w2:column id="GRP_CD" name="그룹코드" dataType="text"></w2:column>
						<w2:column id="GRP_NM" name="그룹명" dataType="text"></w2:column>
						<w2:column id="SORT_ORDER" name="코드순서" dataType="text"></w2:column>
						<w2:column id="NOTE" name="비고" dataType="text"></w2:column>
					</w2:columnInfo>
				</w2:dataList>
				<w2:dataList id="dlt_commonCode" baseNode="list" saveRemovedData="true" repeatNode="map">
					<w2:columnInfo>
						<w2:column id="chk" name="선택" dataType="text" ignoreStatus="true"></w2:column>
						<w2:column id="GRP_CD" name="그룹코드" dataType="text"></w2:column>
						<w2:column id="COM_CD" name="공통코드" dataType="text"></w2:column>
						<w2:column id="CODE_NM" name="코드명" dataType="text"></w2:column>
						<w2:column id="SORT_ORDER" name="코드순서" dataType="text"></w2:column>
						<w2:column id="ATTR_VALUE1" name="속성값1" dataType="text"></w2:column>
						<w2:column id="ATTR_VALUE2" name="속성값2" dataType="text"></w2:column>
						<w2:column id="ATTR_VALUE3" name="속성값3" dataType="text"></w2:column>
						<w2:column id="NOTE" name="비고" dataType="text"></w2:column>
					</w2:columnInfo>
				</w2:dataList>
			</w2:dataCollection>
			<w2:workflowCollection></w2:workflowCollection>
			<xf:submission id="sbm_commonCode" ref='' target='data:json,dlt_commonCode' action="/common/selectCommonCodeList"
				method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
				processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
			</xf:submission>
			<xf:submission id="sbm_commonGroup" ref='data:json,dma_search' target='data:json,dlt_commonGrp'
				action="/common/selectCommonGroup" method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler=""
				customHandler="" mode="asynchronous" processMsg="" ev:submit="" ev:submitdone="scwin.sbm_commonGroup_submitdone" ev:submiterror=""
				abortTrigger="">
			</xf:submission>
		</xf:model>
		<w2:layoutInfo></w2:layoutInfo>
		<w2:publicInfo method=""></w2:publicInfo>
		<script type="text/javascript" lazy="false"><![CDATA[// ================================================================================================
// GridView Data Finder 기능 샘플(gridViewFinder.xml)을 실행하는 방법
//
// 1. 페이지 단위로 적용하려면 require 태그로 gridViewFinder.xml UDC 파일을 Import한다. 
//    전체에 적용하려면 config.xml 파일에 추가한다.
// 2. GridView Finder를 적용하기 위한 GridView를 Group 감싼다.
// 3. GridView의 셀을 클릭한다.
// 4. GridView 데이터 검색 단축키 (F2)를 누른다.
// 5. 데이터 검색 창에서 검색 키워드를 입력하고 엔터키를 누른다.
// 6. 검색을 마치고 검색 창을 닫으려면 ESC 키를 누른다.
// ================================================================================================

/**
 * 초기 스크립트 수행 함수 정의
 */
scwin.onpageload = function () {
};

/**
 * 화면 초기화 데이터가 모두 로딩되면 발생하는 이벤트
 */
scwin.ondataload = function () {
    $c.sbm.execute(sbm_commonGroup, { "dma_search": { "TYPE": "GRP_NM", "CONTENT": "all", "IS_USE": "" } });
};

scwin.dlt_commonGrp_onbeforerowpositionchange = function (info) {
    var grpCd = dlt_commonGrp.getCellData(info.newRowIndex, "GRP_CD");
    if (grpCd) {
        var param = { dma_commonGrp: { GRP_CD: grpCd } };
        $c.sbm.execute(sbm_commonCode, param);
    }
};

scwin.sbm_commonGroup_submitdone = function (e) {
    let tmp = [...e.responseJSON["dlt_commonGrp"]];
    tmp = tmp.map(elem => {
        elem["GRP_NM"] = elem["GRP_NM"] + elem["GRP_NM"] + elem["GRP_NM"] + elem["GRP_NM"] + elem["GRP_NM"];
        return elem;
    });
    dlt_commonGrp.setJSON([...tmp, ...tmp, ...tmp, ...tmp, ...tmp, ...tmp, ...tmp, ...tmp, ...tmp, ...tmp]);
};

]]></script>
		<w2:require as="udc_gridView_Finder" src="/common/udc/gridViewFinder.xml" type="page"></w2:require>
	</head>
	<body ev:onpageload="scwin.onpageload">
		<xf:group class="sub_contents flex_gvw" id="" style="">
			<w2:pageFrame id="" style="" src="./common/xml/contentHeader.xml" scope=""></w2:pageFrame>
			<w2:pageFrame id="" src="./common/xml/contentDesc.xml" scope=""></w2:pageFrame>

			<xf:group adaptiveThreshold="" class="gvwbox wq_flx" id="grd_01" style="">
				<w2:gridView adaptive="" autoFit="allColumn" captionTitle="" checkReadOnlyOnCut="" class="wq_gvw"
					dataList="data:dlt_commonGrp" filterFocusMode="" id="grd_commonGrp" keepDefaultColumnWidth="true" rowStatusHeaderValue="상태"
					rowStatusVisible="true" rowStatusWidth="" scrollByColumn="false" scrollByColumnAdaptive="false" style="height:296px;" focusMode="both"
					autoFitMinWidth="800">
					<w2:caption id="caption1" style="" value="this is a grid caption."></w2:caption>
					<w2:header id="header1" style="">
						<w2:row id="row1" style="">
							<w2:column blockSelect="false" displayMode="label" fixColumnWidth="true" id="chk" inputType="checkbox"
								removeBorderStyle="false" style="height:26px;" value="" width="50">
							</w2:column>
							<w2:column blockSelect="false" class="req" displayMode="label" id="column18" inputType="text" removeBorderStyle="false"
								style="height:26px;" value="그룹코드" width="90">
							</w2:column>
							<w2:column allowChar="" blockSelect="false" class="req" displayMode="label" id="column17" inputType="text"
								removeBorderStyle="false" style="height:26px;" value="그룹명" width="267">
							</w2:column>
							<w2:column allowChar="" blockSelect="false" class="req" displayMode="label" id="column16" inputType="text"
								removeBorderStyle="false" style="height:26px;" value="코드순서" width="100">
							</w2:column>
							<w2:column blockSelect="false" displayMode="label" id="column14" inputType="text" removeBorderStyle="false"
								style="height:26px;" value="비고" width="382">
							</w2:column>
						</w2:row>
					</w2:header>
					<w2:gBody id="gBody1" style="">
						<w2:row id="row2" style="">
							<w2:column blockSelect="false" displayMode="label" id="chk" inputType="checkbox" removeBorderStyle="false"
								style="height:26px;" value="" width="70">
							</w2:column>
							<w2:column blockSelect="false" displayMode="label" id="GRP_CD" inputType="text" removeBorderStyle="false" style="" value=""
								width="90" readOnly="true">
							</w2:column>
							<w2:column blockSelect="false" displayMode="label" id="GRP_NM" inputType="text" removeBorderStyle="false" style="" value=""
								width="137" textAlign="left">
							</w2:column>
							<w2:column blockSelect="false" displayMode="label" id="SORT_ORDER" inputType="text" removeBorderStyle="false" style=""
								value="" width="100">
							</w2:column>
							<w2:column blockSelect="false" displayMode="label" id="NOTE" inputType="text" removeBorderStyle="false" style="" value=""
								width="202" textAlign="left">
							</w2:column>
						</w2:row>
					</w2:gBody>
				</w2:gridView>
				<w2:udc_gridView_Finder style="" id="udc_grdFinder01"></w2:udc_gridView_Finder>
			</xf:group>
			<xf:group class="dfbox" id="" style="">
				<w2:textbox class="" id="" label="코드" style="" tagname="H3"></w2:textbox>
				<xf:group class="fr" id="" style="">
					<w2:textbox class="sum" id="spn_codeCnt" label="" style=""></w2:textbox>
				</xf:group>
			</xf:group>
			<xf:group adaptiveThreshold="" class="gvwbox wq_flx" id="" style="">
				<w2:udc_gridView_Finder style="" id="udc_grdFinder02"></w2:udc_gridView_Finder>
				<w2:gridView autoFit="allColumn" autoFitMinWidth="800" captionTitle="" checkReadOnlyOnCut="" class="wq_gvw"
					dataList="data:dlt_commonCode" id="grd_commonCode" rowStatusHeaderValue="상태" rowStatusVisible="true" rowStatusWidth=""
					scrollByColumn="false" scrollByColumnAdaptive="false" style="height: 250px;" keepDefaultColumnWidth="true" adaptiveThreshold=""
					adaptive="" focusMode="both">
					<w2:caption id="caption1" style="" value="this is a grid caption."></w2:caption>
					<w2:header id="header1" style="">
						<w2:row id="row1" style="">
							<w2:column blockSelect="false" displayMode="label" fixColumnWidth="true" id="chk" inputType="checkbox"
								removeBorderStyle="false" style="" value="선택" width="50" hiddenClass="">
							</w2:column>
							<w2:column blockSelect="false" class="req" displayMode="label" id="column18" inputType="text" removeBorderStyle="false"
								style="height: 26px" value="공통코드" width="90">
							</w2:column>
							<w2:column blockSelect="false" class="req" displayMode="label" id="column17" inputType="text" removeBorderStyle="false"
								style="" value="코드명" width="200">
							</w2:column>
							<w2:column blockSelect="false" displayMode="label" id="column16" inputType="text" removeBorderStyle="false" style=""
								value="코드순서" width="90" class="req">
							</w2:column>
							<w2:column removeBorderStyle="false" width="150" inputType="text" style="" id="column51" value="속성값1" blockSelect="false"
								displayMode="label">
							</w2:column>
							<w2:column removeBorderStyle="false" width="150" inputType="text" style="" id="column49" value="속성값2" blockSelect="false"
								displayMode="label">
							</w2:column>
							<w2:column blockSelect="false" displayMode="label" id="column14" inputType="text" removeBorderStyle="false" style=""
								value="속성값3" width="150">
							</w2:column>
						</w2:row>
					</w2:header>
					<w2:gBody id="gBody1" style="">
						<w2:row id="row2" style="">
							<w2:column blockSelect="false" displayMode="label" id="chk" inputType="checkbox" removeBorderStyle="false" style=""
								value="" width="70">
							</w2:column>
							<w2:column blockSelect="false" displayMode="label" id="COM_CD" inputType="text" removeBorderStyle="false"
								style="height: 26px" value="" width="90" readOnly="true">
							</w2:column>
							<w2:column blockSelect="false" displayMode="label" id="CODE_NM" inputType="text" removeBorderStyle="false" style=""
								value="" width="200" textAlign="left">
							</w2:column>
							<w2:column blockSelect="false" displayMode="label" id="SORT_ORDER" inputType="text" removeBorderStyle="false" style=""
								value="" width="90">
							</w2:column>
							<w2:column removeBorderStyle="false" width="70" inputType="text" style="" id="ATTR_VALUE1" value="" blockSelect="false"
								displayMode="label">
							</w2:column>
							<w2:column removeBorderStyle="false" width="70" inputType="text" style="" id="ATTR_VALUE2" value="" blockSelect="false"
								displayMode="label">
							</w2:column>
							<w2:column blockSelect="false" displayMode="label" id="ATTR_VALUE3" inputType="text" removeBorderStyle="false" style=""
								value="" width="250">
							</w2:column>
						</w2:row>
					</w2:gBody>
				</w2:gridView>
			</xf:group>
		</xf:group>
	</body>
</html>
